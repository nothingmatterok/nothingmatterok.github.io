System.register("chunks:///_virtual/AbilityConfig.ts",["cc","./SceneManager.ts","./NewStarButton.ts"],(function(E){var n,S,_,e;return{setters:[function(E){n=E.cclegacy,S=E.find},function(E){_=E.SceneManager},function(E){e=E.NewStarButton}],execute:function(){n._RF.push({},"252f95aRfNLwoxyS4zYjCDE","AbilityConfig",void 0);var D=E("ABILITY_TYPE",{STAR_TIME_ADD:"STAR_TIME_ADD",BIG_SEND_BEFORE:"BIG_SEND_BEFORE",ADD_SCORE:"ADD_SCORE",ADD_STAR:"ADD_STAR"}),b=E("ABILITY_TIME_TYPE",{SCORE:"SCORE",BEGIN:"BEGIN"});E("ABILITY_CONFIG",[[100,"开局获得<b>分数+10</b>",D.ADD_SCORE,10,b.BEGIN,0],[180,"🌟使用<b>次数+1</b>",D.STAR_TIME_ADD,1,b.BEGIN,0],[300,"开局获得<b>分数+15</b>",D.ADD_SCORE,15,b.BEGIN,0],[450,"总分超100分时，获得<b>分数+20</b>",D.ADD_SCORE,20,b.SCORE,100],[600,"总分超200分时，获得<b>分数+25</b>",D.ADD_SCORE,25,b.SCORE,200],[800,"总分超300分时，场上<b>增加🌟X1</b>",D.ADD_STAR,1,b.SCORE,300],[1e3,"<b>大派送</b>时机<b>提前5张</b>卡片",D.BIG_SEND_BEFORE,5,b.BEGIN,0],[1400,"<b>大派送</b>时机<b>提前5张</b>卡片",D.BIG_SEND_BEFORE,5,b.BEGIN,0],[1800,"<b>大派送</b>时机<b>提前10张</b>卡片",D.BIG_SEND_BEFORE,10,b.BEGIN,0],[2200,"<b>大派送</b>时机<b>提前10张</b>卡片",D.BIG_SEND_BEFORE,10,b.BEGIN,0],[2600,"<b>大派送</b>时机<b>提前10张</b>卡片",D.BIG_SEND_BEFORE,10,b.BEGIN,0],[3e3,"<b>大派送</b>时机<b>提前10张</b>卡片",D.BIG_SEND_BEFORE,10,b.BEGIN,0]]),E("ABILITY_FUNC",{STAR_TIME_ADD:function(){S("Canvas/BG/newStar").getComponent(e).addTime(),_.ins.curScene.playScoreTimeAnim("\n\n\n🌟次数+1")},ADD_STAR:function(){var E=_.ins.curScene;E.genStar(),E.playScoreTimeAnim("\n\n🌟+1")},BIG_SEND_BEFORE:function(E){_.ins.curScene.bigSendBeforeNum+=E},ADD_SCORE:function(E){_.ins.curScene.addScore(E,1)}});n._RF.pop()}}}));

System.register("chunks:///_virtual/AbilityManager.ts",["cc","./GameData.ts","./SceneManager.ts","./AbilityConfig.ts","./DataType.ts","./SDK.ts","./InitStageInfo.ts"],(function(i){var t,n,a,e,o,l,r,c,s,b,u,f;return{setters:[function(i){t=i.cclegacy,n=i.find,a=i.Label,e=i.color,o=i.RichText},function(i){l=i.GameData},function(i){r=i.SceneManager},function(i){c=i.ABILITY_CONFIG,s=i.ABILITY_FUNC},function(i){b=i.DataType},function(i){u=i.SDK},function(i){f=i.isLastStage}],execute:function(){t._RF.push({},"b741ew1X+9MbJ8M6H98Ww8Y","AbilityManager",void 0);i("AbilityManager",function(){function i(){this._abilityValue=0,this._isAbilityRun=void 0,this._abilityActiveNumBefore=100}var t=i.prototype;return t.init=function(){if(f()){n("Canvas/Ability").active=!0;var i=l.ins[b.ABILITY_NUM];this._abilityValue=i,this._isAbilityRun=[];for(var t=0;t<c.length;t++)this._isAbilityRun.push(!1);for(var r="",s="",u=0,y=0,A=0;A<c.length;A++){var v=c[A],h=v[0];if(this._abilityValue<h){u=h,r=v[1];break}y+=1,s+="  "+(A+1)+") "+v[1]+"\n"}if(y>this._abilityActiveNumBefore){n("Canvas/Ability/ShowAbilityButton/Mask").active=!0;var g=n("Canvas/Ability/ShowAbilityButton").getComponent(a);g.string="获得新能力",g.color=e(255,122,0)}this._abilityActiveNumBefore=y,""==s&&(s="  暂无\n");var _="<color=#00><color=#ff7a00><b>已生效能力：</b></color>\n"+s+"</color>";u>10&&(_+="<color=#00><color=#ff7a00><b>即将生效：</b></color>\n  "+r+"【<color=#ff7a00><b>"+u+"文采</b></color>生效，当前还需<color=#ff7a00><b>"+(u-i)+"</b></color>点】</color>"),n("Canvas/Ability/AbilityPage/AbilityDescRichText").getComponent(o).string=_,n("Canvas/Ability/AbilityPage/WencaiNumLabel").getComponent(a).string=""+l.ins[b.ABILITY_NUM]}},t.addAbilityValue=function(i){l.ins[b.ABILITY_NUM]+=i;var t=r.ins.curScene;setTimeout((function(){t.playScoreTimeAnim("\n\n\n文采+"+i)}),30),u.ins.updateAbilityNum(l.ins[b.ABILITY_NUM])},t.callAbility=function(i,t){void 0===t&&(t=0);for(var n=0;n<c.length;n++){var a=c[n],e=a[0],o=a[5],l=a[4];if(this._abilityValue>=e&&l==i&&t>=o&&!this._isAbilityRun[n]){var r=a[3],b=a[2],u=s[b];this._isAbilityRun[n]=!0,u(r)}}},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/AbilityPage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,n,e,r,a,c;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,e=t.find,r=t.Label,a=t.Color,c=t.Component}],execute:function(){var l;o._RF.push({},"0c80ahfXLlJnrTEGbAqUstZ","AbilityPage",void 0);var s=n.ccclass;n.property,t("AbilityPage",s("AbilityPage")(l=function(t){function o(){return t.apply(this,arguments)||this}return i(o,t),o.prototype.onShowButtonTouchCloseHint=function(){var t=e("Canvas/Ability/ShowAbilityButton/Mask");if(t.active){var i=e("Canvas/Ability/ShowAbilityButton").getComponent(r);i.string="查看文采",i.color=a.BLACK}t.active=!1},o}(c))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncLoad.ts",["cc"],(function(n){var o,e,u;return{setters:[function(n){o=n.cclegacy,e=n.resources,u=n.assetManager}],execute:function(){o._RF.push({},"5dbe80oT+dJUoQUlIpgEu1G","AsyncLoad",void 0);n("AsyncLoad",function(){function n(){}return n.loadFromResources=function(n,o,u){return new Promise((function(t,c){e.load(n,o,(function(n,o){n?c(n):(u&&u(o),t(o))}))}))},n.loadRemovte=function(n,o){return void 0===o&&(o=null),new Promise((function(e,t){u.loadRemote(n,(function(n,u){n?t(n):(o&&o(u),e(u))}))}))},n.loadBundle=function(n,o){return void 0===o&&(o=null),new Promise((function(e,t){u.loadBundle(n,(function(n,u){n?t(n):(o&&o(u),e(u))}))}))},n.loadFromBundle=function(n,o,e,u){return new Promise((function(t,c){n.load(o,e,(function(n,o){n?c(n):(u&&u(o),t(o))}))}))},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioEffectController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,i,r,n,c,l,u,a;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){n=o.cclegacy,c=o._decorator,l=o.AudioClip,u=o.AudioSource,a=o.Component}],execute:function(){var p,s,f,d,h;n._RF.push({},"f87f3UWgqZF8oPUDmYfbpTj","AudioEffectController",void 0);var y=c.ccclass,v=c.property;o("AudioEffectController",(p=y("AudioEffectController"),s=v({type:[l]}),p((h=e((d=function(o){function e(){for(var e,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=o.call.apply(o,[this].concat(n))||this,i(e,"clips",h,r(e)),e._audioSource=void 0,e}t(e,o);var n=e.prototype;return n.init=function(){var o=this.node.getComponent(u);this._audioSource=o},n.playOneShotInClips=function(o){this._audioSource.playOneShot(this.clips[o],1)},e}(a)).prototype,"clips",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=d))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSwitch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,i,t,n,r,u,c,s,a,p,l;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,c=e.SpriteFrame,s=e.Node,a=e.Sprite,p=e.AudioSource,l=e.Component}],execute:function(){var d,f,h,m,S,A,y,g,b;r._RF.push({},"bd3d5JApMVOnLOCk6MlIVTe","AudioSwitch",void 0);var F=u.ccclass,v=u.property;e("AudioSwitch",(d=F("AudioSwitch"),f=v({type:c}),h=v({type:c}),m=v({type:[s]}),d((y=o((A=function(e){function o(){for(var o,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return o=e.call.apply(e,[this].concat(r))||this,t(o,"offSpriteFrame",y,n(o)),t(o,"onSpriteFrame",g,n(o)),t(o,"AudioSourceNodes",b,n(o)),o._isAudioOn=!0,o}i(o,e);var r=o.prototype;return r.onTouch=function(){this._isAudioOn?this.close():this.open()},r.close=function(){this._isAudioOn=!1,this.node.getComponent(a).spriteFrame=this.offSpriteFrame,this.AudioSourceNodes.forEach((function(e){e.getComponent(p).volume=0}))},r.open=function(){this._isAudioOn=!0,this.node.getComponent(a).spriteFrame=this.onSpriteFrame,this.AudioSourceNodes.forEach((function(e){e.getComponent(p).volume=1}))},r.pause=function(){this.AudioSourceNodes.forEach((function(e){e.getComponent(p).pause()}))},r.resume=function(){this.AudioSourceNodes.forEach((function(e){e.getComponent(p).play()}))},o}(l)).prototype,"offSpriteFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=o(A.prototype,"onSpriteFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=o(A.prototype,"AudioSourceNodes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=A))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/BGMController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncLoad.ts"],(function(e){var r,t,n,o,i,a,u,l,c,s,p,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,c=e.Component,s=e.AudioSource,p=e.AudioClip},function(e){d=e.AsyncLoad}],execute:function(){var f,B,h,M;u._RF.push({},"9d6d1hkPo9CAItIXXv89+CM","BGMController",void 0);var y=l.ccclass,G=l.property;e("BGMController",y("BGMController")((h=r((B=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"BGMPATH",h,o(r)),n(r,"BGMBundleName",M,o(r)),r}t(r,e);var u=r.prototype;return u.start=function(){this.loadBGM()},u.loadBGM=function(){var e=i(a().mark((function e(){var r,t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.BGMBundleName){e.next=2;break}return e.abrupt("return");case 2:if(this.BGMPATH){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,d.loadBundle(this.BGMBundleName);case 6:return r=e.sent,e.next=9,d.loadFromBundle(r,this.BGMPATH,p);case 9:t=e.sent,(n=this.getComponent(s)).clip=t,n.loop=!0,n.play();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r}(c)).prototype,"BGMPATH",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),M=r(B.prototype,"BGMBundleName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=B))||f);u._RF.pop()}}}));

System.register("chunks:///_virtual/ChinaColor.ts",["cc"],(function(n){var i,a;return{setters:[function(n){i=n.cclegacy,a=n.color}],execute:function(){i._RF.push({},"f21558HVFNOjKXgMsx125P8","ChinaColor",void 0);var u=n("ChinaColor",function(){function n(){}return n.GetAlphaColor=function(n,i){return a(n.r,n.g,n.b,i)},n}());u.YaQing=a(66,75,80),u.DaiLan=a(65,80,101),u.Li=a(118,102,77),u.AiQing=a(163,226,197),u.TuoSe=a(168,132,98),u.YanZhi=a(157,41,50),u.ZhuQing=a(157,41,50),u.Yanzhi=a(120,146,98),u.YaBai=a(239,222,176),u.WanWan=a(169,129,117),u.ChaBai=a(243,248,241),u.Chi=a(195,39,43),u.Tan=a(179,109,97),u.ShuiLv=a(212,242,232),u.YueBai=a(215,236,241),u.QiuXiangSe=a(217,182,18),u.YinZhu=a(199,62,58),u.QingHui=a(43,51,62),i._RF.pop()}}}));

System.register("chunks:///_virtual/DataType.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"10b6cbZxVhBzKy1YWVSrsU1","DataType",void 0);e("DataType",{CURSTAGEINFO:"CURSTAGEINFO",ShareMessageQuery:"ShareMessageQuery",CanInMaxStageId:"MaxStageId",MaxScore:"MaxScore",MaxScoreTime:"MaxScoreTime",UserInfo:"userInfo",GuideStepId:"GuideStepId",ProvRankData:"ProvRankData",WorldRankData:"WorldRankData",InviteShare:"InviteShare",RewardVideoAd:"RewardVideoAd",IsNewAdLoadEnd:"IsNewAdLoading",DataVersion:"DataVersion",AllLyrics:"AllLyrics",AllLyricVersion:"AllLyricVersion",WordMaxSiblingIndex:"WordMaxSiblingIndex",StageLyricsVersion:"StageLyricsVersion",StageLyrics:"StageLyrics",ABILITY_NUM:"ABILITY_NUM"}),e("MessageType",{ONSHARE:"onshare",ONLOOKADEND:"onLookADend"});a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/EndGameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadDataFromLocal.ts","./GameData.ts","./SceneManager.ts","./DataType.ts","./StageTable.ts","./SDK.ts","./InitStageInfo.ts"],(function(e){var t,n,i,a,o,r,s,c,l,g,y,d,h,u,L,m,p,f,_,v,B,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,g=e.Label,y=e.Toggle,d=e.Vec3,h=e.Animation,u=e.Component},function(e){L=e.getDataFromRamOrDisk},function(e){m=e.GameData},function(e){p=e.SceneManager},function(e){f=e.DataType},function(e){_=e.StageGenType,v=e.StageTable},function(e){B=e.SDK},function(e){b=e.setStageInfoByMaxId}],execute:function(){var G,I,S,T,C,w,A;s._RF.push({},"2a89d8kAPVF55an6IXnOdAM","EndGameUI",void 0);var x=c.ccclass,D=c.property;e("EndGameUI",(G=x("EndGameUI"),I=D({type:l}),S=D({type:l}),G((w=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"hintPageNode",w,a(t)),i(t,"AllLyricLabel",A,a(t)),t._retryButton=void 0,t._changeLyricToggle=void 0,t._nextStageButton=void 0,t._lyricLabelNode=void 0,t._endGameTitleLabel=void 0,t._endGameInfoLabel=void 0,t._winLyricIdBefore=void 0,t}n(t,e);var s=t.prototype;return s.init=function(){var e=this.node.getChildByPath("EndGameUIBG/RetryButton");this._retryButton=e,this._changeLyricToggle=e.getChildByName("ChangeLyricToggle"),this._lyricLabelNode=this.node.getChildByPath("EndGameUIBG/LyricInfo");var t=this.node.getChildByPath("EndGameUIBG/NextStageButton");this._nextStageButton=t,this._endGameInfoLabel=this.node.getChildByPath("EndGameUIBG/EndGameInfoLabel").getComponent(g),this._endGameTitleLabel=this.node.getChildByPath("EndGameUIBG/EndGameTitleLabel").getComponent(g)},s.retryButtonOnTouch=function(){this.node.active=!1;var e=p.ins.curScene;this._changeLyricToggle.getComponent(y).isChecked&&(e.winLyricId=-1),e.restart()},s.nextStageButtonOnTouch=function(){this.node.active=!1,b(),p.ins.curScene.restart()},s.clear=function(){},s.show=function(e){this.node.active=!0;var t=p.ins.curScene;if(this._lyricLabelNode.active=!1,m.ins[f.CURSTAGEINFO].generateType==_.AUTO){this._lyricLabelNode.active=!0,this._winLyricIdBefore=t.winLyricId;var n="“"+t.stageLyrics[t.winLyricId][1]+"”",i=t.stageLyrics[t.winLyricId][2],a=t.stageLyrics[t.winLyricId][3];this._lyricLabelNode.getComponent(g).string=n+"\n"+i+a,this.AllLyricLabel.getComponent(g).string=a+"\n"+i+"\n数据加载中..."}if(e){this._changeLyricToggle.active=!1,this._endGameTitleLabel.string="挑战成功",this._endGameInfoLabel.string="获得分数: "+t.score+" 分\n目标分数: "+t.minWinScore+" 分",this._retryButton.active=!0,t.winLyricId=-1;var o=v.length-1;m.ins[f.CURSTAGEINFO].id==o?(this._retryButton.setPosition(new d(0,this._retryButton.position.y)),this._nextStageButton.active=!1):(this._retryButton.setPosition(new d(-200,this._retryButton.position.y)),this._nextStageButton.active=!0)}else this._endGameTitleLabel.string="挑战失败",this._changeLyricToggle.active=!0,this._endGameInfoLabel.string="获得分数: "+t.score+" 分\n目标分数: "+t.minWinScore+" 分\n已经很接近胜利了，再试试看吧！",this._retryButton.active=!0,this._retryButton.setPosition(new d(0,this._retryButton.position.y)),this._nextStageButton.active=!1;this.node.getChildByName("EndGameUIBG").getComponent(h).play()},s.loadLyricContent=function(){var e=o(r().mark((function e(){var t,n,i,a,o,s,c,l,y,d,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.ins.curScene,n=this._winLyricIdBefore,a="加载失败",e.next=5,L(f.AllLyricVersion);case 5:if(o=e.sent,console.log("获得lyricdata版本号为"+o),!o||o!=m.ins[f.DataVersion]){e.next=12;break}return e.next=10,L(f.AllLyrics);case 10:(s=e.sent)&&(i=s[n]);case 12:if(i){e.next=18;break}return console.log("未能从本地成功获取诗库，尝试从云端获取内容"),e.next=16,B.ins.readFileFromCloud("cloud://wenzisanxiao-7gj8dlv104b6594c.7765-wenzisanxiao-7gj8dlv104b6594c-1314042521/shilihangjian/allLyrics.data");case 16:(c=e.sent)&&(l=c.split("#"),y=[],l.forEach((function(e){e.length>3&&y.push(e.split("-")[1].trim())})),y.length>5&&(console.log("获得云端AllLyric数据，数据长度为"+y.length+"写入Gamedata及localstorage中"),m.ins[f.AllLyrics]=y,B.ins.setStorage({key:f.AllLyrics,data:y}),console.log("更新AllLyric版本号为"+m.ins[f.DataVersion]),B.ins.setStorage({key:f.AllLyricVersion,data:m.ins[f.DataVersion]}),i=y[n]));case 18:i&&(d=t.stageLyrics[n][2],h=t.stageLyrics[n][3],a=h+"\n"+d+"\n"+i),this.AllLyricLabel.getComponent(g).string=a;case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(u)).prototype,"hintPageNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(C.prototype,"AllLyricLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=C))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/FirstStageStarHint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SceneManager.ts","./DataType.ts"],(function(t){var e,i,n,a,r,o,s,c,d,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Node,c=t.Component},function(t){d=t.GameData},function(t){u=t.SceneManager},function(t){l=t.DataType}],execute:function(){var p,h,g,v,y;r._RF.push({},"98522ysQAJHjLRaO+U3kiu5","FirstStageStarHint",void 0);var f=o.ccclass,S=o.property;t("FirstStageStarHint",(p=f("FirstStageStarHint"),h=S({type:s}),p((y=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"animNode",y,a(e)),e}i(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){1!=d.ins[l.CURSTAGEINFO].id&&this.node.destroy();var e=u.ins.curScene;this.animNode.active&&6==e.wordsInBoard.length&&this.node.destroy(),6==e.wordList.wordsInList.length&&d.ins[l.GuideStepId]>4&&0==e.hintPage.node.active?this.animNode.active=!0:(this.animNode.active&&1==e.hintPage.node.active&&(this.animNode.active=!1),this.animNode.active&&7==e.wordList.wordsInList.length&&(this.animNode.active=!1))},e}(c)).prototype,"animNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/FirstWinShareButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./DataType.ts"],(function(t){var e,n,r,i,a,o,c,s,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,c=t.Node,s=t.Component},function(t){u=t.GameData},function(t){p=t.DataType}],execute:function(){var l,h,f,y,S;a._RF.push({},"63c86RJANRP7ZfmTXYZpoSb","FirstWinShareButton",void 0);var g=o.ccclass,v=o.property;t("FirstWinShareButtons",(l=g("FirstWinShareButtons"),h=v({type:c}),l((S=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"ShareHintPage",S,i(e)),e}return n(e,t),e.prototype.onTouch=function(){this.ShareHintPage.active=!0,u.ins[p.InviteShare]=!0},e}(s)).prototype,"ShareHintPage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/FriendRankButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDK.ts","./RankButtonBase.ts"],(function(t){var n,e,o,s,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){s=t.SDK},function(t){r=t.RankButtonBase}],execute:function(){var i;e._RF.push({},"43a61UwXSxM1pUyQs/2Inke","FriendRankButton",void 0);var u=o.ccclass;o.property,t("FriendRankButton",u("FriendRankButton")(i=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.select=function(){t.prototype.select.call(this),s.ins.postMessageToOpenContext({type:"engine",event:"showFriendRank"})},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"3a258wKggtAJZ74HoKhSt/A","GameData",void 0),n("GameData",function(){function n(){}return t(n,null,[{key:"ins",get:function(){return null==this._ins&&(this._ins=new n),this._ins}}]),n}())._ins=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StartScene.ts","./GameData.ts","./GuideSystem.ts","./MessageManager.ts","./SceneManager.ts"],(function(e){var t,n,s,a,r,o,i,c,u,f,m,d,h,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,i=e.director,c=e.find,u=e.Component},function(e){f=e.StartScene},function(e){m=e.GameData},function(e){d=e.GuideSystem},function(e){h=e.MessageManager},function(e){g=e.SceneManager}],execute:function(){var l,p;r._RF.push({},"fbc97TeEORC/7efZo4uXMh/","GameRoot",void 0);var y=o.ccclass;o.property,e("GameRoot",y("GameRoot")(((p=function(e){function r(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).managers=[g.ins,d.ins,h.ins],t.gamedata=m.ins,t._isSystemLoadEnd=!1,t}t(r,e);var o=r.prototype;return o.start=function(){i.addPersistRootNode(this.node),this.loadSystems()},o.loadSystems=function(){var e=s(a().mark((function e(){var t,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=0;n<this.managers.length;n++)t.push(this.managers[n].preLoadAsync());return e.next=4,Promise.all(t);case 4:for(s=0;s<this.managers.length;s++)this.managers[s].init();g.ins.setNewScene(new f),this._isSystemLoadEnd=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.update=function(e){if(this._isSystemLoadEnd)for(var t=0;t<this.managers.length;t++)this.managers[t].update(e)},n(r,null,[{key:"ins",get:function(){if(r._ins)return r._ins;var e=c("GameRoot").getComponent(r);return this._ins=e,e}}]),r}(u))._ins=void 0,l=p))||l);r._RF.pop()}}}));

System.register("chunks:///_virtual/GuideCommonCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuideSystem.ts"],(function(e){var t,n,i,o,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.find,r=e.Component},function(e){c=e.GuideSystem}],execute:function(){var a;n._RF.push({},"0d547mkKkJFO6TMG/jFVmxY","GuideCommonCtrl",void 0);var u=i.ccclass;i.property,e("GuideCommonCtrl",u("GuideCommonCtrl")(a=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._curPageId=1,t}t(n,e);var i=n.prototype;return i.guideEnd=function(){c.ins.onGuideComplete()},i.nextPage=function(){var e=this.node.getChildByName("Page"+this._curPageId);this._curPageId+=1,this.node.getChildByName("Page"+this._curPageId).active=!0,e.active=!1},i.prevPage=function(){var e=this.node.getChildByName("Page"+this._curPageId);this._curPageId-=1,this.node.getChildByName("Page"+this._curPageId).active=!0,e.active=!1},i.clickAndComplete=function(e,t){console.log(t);var n=t.split(","),i=n[0],r=n[1],a=n[2];o(i).getComponent(r)[a](),c.ins.onGuideComplete()},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/GuideConfig.ts",["cc","./GameData.ts","./SceneManager.ts","./MainScene.ts","./DataType.ts"],(function(e){var n,i,r,s,c;return{setters:[function(e){n=e.cclegacy},function(e){i=e.GameData},function(e){r=e.SceneManager},function(e){s=e.MainScene},function(e){c=e.DataType}],execute:function(){n._RF.push({},"ffc42gGpshFd6PaJXgUyE2j","GuideConfig",void 0);e("GuideStepConfig",[{isGuideOccur:function(){if(r.ins.curScene instanceof s){var e=r.ins.curScene;return 1==i.ins[c.CURSTAGEINFO].id&&e.isEndLoad}return!1},prefabName:"Prefabs/GuidePrefabs/Guide01"},{isGuideOccur:function(){if(!(r.ins.curScene instanceof s))return!1;var e=r.ins.curScene;return!!e.isEndLoad&&(1==i.ins[c.CURSTAGEINFO].id&&1==e.wordList.wordsInList.length)},prefabName:"Prefabs/GuidePrefabs/Guide02"},{isGuideOccur:function(){if(!(r.ins.curScene instanceof s))return!1;var e=r.ins.curScene;return!!e.isEndLoad&&(1==i.ins[c.CURSTAGEINFO].id&&3==e.score)},prefabName:"Prefabs/GuidePrefabs/Guide03"},{isGuideOccur:function(){if(!(r.ins.curScene instanceof s))return!1;var e=r.ins.curScene;return!!e.isEndLoad&&(1==i.ins[c.CURSTAGEINFO].id&&3==e.wordList.wordsInList.length)},prefabName:"Prefabs/GuidePrefabs/Guide04"},{isGuideOccur:function(){if(!(r.ins.curScene instanceof s))return!1;var e=r.ins.curScene;return!!e.isEndLoad&&(1==i.ins[c.CURSTAGEINFO].id&&6==e.wordList.wordsInList.length)},prefabName:"Prefabs/GuidePrefabs/Guide05"},{isGuideOccur:function(){return r.ins.curScene instanceof s&&(!!r.ins.curScene.isEndLoad&&3==i.ins[c.CURSTAGEINFO].id)},prefabName:"Prefabs/GuidePrefabs/Guide06"}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/GuideSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataType.ts","./SDK.ts","./GameData.ts","./IManager.ts"],(function(e){var i,t,d,n,u,s,a,o,r,f,G,c;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass},function(e){d=e.cclegacy,n=e.resources,u=e.Prefab,s=e.find,a=e.Button,o=e.instantiate},function(e){r=e.DataType},function(e){f=e.SDK},function(e){G=e.GameData},function(e){c=e.IManager}],execute:function(){d._RF.push({},"3dafcnt1t9Jw7O6yXZmddoN","GuideSystem",void 0),e("GuideSystem",function(e){function d(){var i;return(i=e.call(this)||this)._curGuidePrefab=void 0,i.GuideStepsConfig=void 0,i.isInGuide=!1,i.GuideLayerNode=void 0,i.guidePrefabNode=void 0,i}i(d,e);var c=d.prototype;return c.init=function(){var e=f.ins.getStorageSync(r.GuideStepId);e||(e=0),G.ins[r.GuideStepId]=e},c.setGuideStepsConfig=function(e){if(this.GuideStepsConfig=e,this._hasNextGuideSep()){var i=G.ins[r.GuideStepId];n.preload(this.GuideStepsConfig[i].prefabName,u)}},c.onGuideComplete=function(){this.guidePrefabNode.destroy(),this.GuideLayerNode.active=!1,this.isInGuide=!1;var e=G.ins[r.GuideStepId]+1;G.ins[r.GuideStepId]=e,console.log("教程已完成，当前教程ID为"+e),f.ins.setStorage({key:r.GuideStepId,data:e}),this._curGuidePrefab.decRef(),this._curGuidePrefab=null,this._hasNextGuideSep()&&n.preload(this.GuideStepsConfig[e].prefabName,u)},c._hasNextGuideSep=function(){return!!this.GuideStepsConfig&&G.ins[r.GuideStepId]<this.GuideStepsConfig.length},c.update=function(e){var i=this;if(this.GuideStepsConfig&&this._hasNextGuideSep()&&!this.isInGuide){var t=G.ins[r.GuideStepId];this.GuideStepsConfig[t].isGuideOccur()&&(this.isInGuide=!0,this.GuideLayerNode=s("Canvas/GuideLayer"),this.GuideLayerNode.active=!0,this.GuideLayerNode.getComponent(a).enabled=!0,n.load(this.GuideStepsConfig[t].prefabName,u,(function(e,t){t.addRef(),i._curGuidePrefab=t,i.guidePrefabNode=o(i._curGuidePrefab),i.GuideLayerNode.addChild(i.guidePrefabNode),i.GuideLayerNode.getComponent(a).enabled=!1})))}},t(d,null,[{key:"ins",get:function(){return null==this._ins&&(this._ins=new d),this._ins}}]),d}(c))._ins=void 0,d._RF.pop()}}}));

System.register("chunks:///_virtual/HardButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ChinaColor.ts","./GameData.ts"],(function(t){var n,e,o,r,a,i,c,u,s,h,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,c=t.CCInteger,u=t.Node,s=t.Sprite,h=t.Component},function(t){l=t.ChinaColor},function(t){p=t.GameData}],execute:function(){var d,f,C,y,g,B,m;a._RF.push({},"ca89c6XX2tBT7KwfVxIEHxu","HardButton",void 0);var v=i.ccclass,b=i.property;t("HardButton",(d=v("HardButton"),f=b({type:c}),C=b({type:[u]}),d((B=n((g=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return n=t.call.apply(t,[this].concat(a))||this,o(n,"hard",B,r(n)),o(n,"hardButtons",m,r(n)),n}e(n,t);var a=n.prototype;return a.start=function(){var t=this;this.node.getComponent(s).color=l.ChaBai,0==this.hard&&(this.node.getComponent(s).color=l.Chi),p.ins.sharehard=0,this.node.on(u.EventType.TOUCH_END,(function(){t.hardButtons.forEach((function(t){t.getComponent(s).color=l.ChaBai})),t.node.getComponent(s).color=l.Chi,p.ins.sharehard=t.hard}))},a.update=function(t){},n}(h)).prototype,"hard",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=n(g.prototype,"hardButtons",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/HintPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./MessageManager.ts","./SceneManager.ts","./DataType.ts","./AudioSwitch.ts"],(function(n){var t,i,e,o,s,c,h,r,a,l,d,f,u,m,_;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,e=n._decorator,o=n.Label,s=n.RichText,c=n.Animation,h=n.Vec3,r=n.find,a=n.Component},function(n){l=n.GameData},function(n){d=n.MessageManager},function(n){f=n.SceneManager},function(n){u=n.MessageType,m=n.DataType},function(n){_=n.AudioSwitch}],execute:function(){var p,A;i._RF.push({},"b477aKO+cVB542tG70DcgHJ","HintPage",void 0);var v=e.ccclass;e.property,n("HintPage",v("HintPage")(((A=function(n){function i(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this)._hintTitleLabel=void 0,t._hintRichText=void 0,t._confirmButtonNode=void 0,t._cancelButtonNode=void 0,t._confirmLabel=void 0,t._cancelLabel=void 0,t._confirmCallback=void 0,t._confirmThis=void 0,t._funcTempDescr=void 0,t._funcTempThisObj=void 0,t._funcTemp=void 0,t}t(i,n);var e=i.prototype;return e.init=function(){this._hintTitleLabel=this.node.getChildByPath("ContentBG/HintTitleLabel").getComponent(o),this._hintRichText=this.node.getChildByPath("ContentBG/HintRichText").getComponent(s),this._confirmButtonNode=this.node.getChildByPath("ContentBG/ConfirmButton"),this._cancelButtonNode=this.node.getChildByPath("ContentBG/CancelButton"),this._confirmLabel=this._confirmButtonNode.getComponentInChildren(o),this._cancelLabel=this._cancelButtonNode.getComponentInChildren(o)},e.setComfirmLabelStr=function(n){this._confirmLabel.string=n},e.onConfirmClick=function(){this._confirmCallback.call(this._confirmThis)},e.onCancleClick=function(){this.node.active=!1,d.ins.removeListener(u.ONSHARE,this.endShareAndAd,this),d.ins.removeListener(u.ONLOOKADEND,this.endShareAndAd,this),f.ins.curScene.audioEffectPlayer.playOneShotInClips(5)},e.show=function(n,t,i,e,o,s){this.node.active=!0,this.node.getChildByName("ContentBG").getComponent(c).play(),this._confirmThis=s,this._confirmCallback=n,this._hintRichText.string=i,this._hintTitleLabel.string=t,this._confirmLabel.string=e,this._cancelLabel.string=o},e.showOnlyConfirm=function(n,t,i,e,o){var s=this;void 0===i&&(i="确认"),void 0===e&&(e=null),void 0===o&&(o=null),this._cancelButtonNode.active=!1;var c=this._confirmButtonNode.position.x,r=this._confirmButtonNode.position.y;this._confirmButtonNode.setPosition(new h(0,r)),this._cancelButtonNode.active=!1,this.show((function(){s._cancelButtonNode.active=!0,s.node.active=!1,s._confirmButtonNode.setPosition(c,r),f.ins.curScene.audioEffectPlayer.playOneShotInClips(5),e&&(o?e.call(o):e())}),n,t,i,"",this)},e.clear=function(){d.ins.removeListener(u.ONSHARE,this.endShareAndAd,this),d.ins.removeListener(u.ONLOOKADEND,this.endShareAndAd,this)},e.showHintPageBeforeShare=function(n,t,e,o){this._funcTempDescr=t,this._funcTempThisObj=o,this._funcTemp=e,d.ins.addListenerOnlyOne(u.ONSHARE,this.endShareAndAd,this),this.show(this.beforeShare,n,t+"\n\n"+i.ShareHintRichStr,"去分享","取消",this)},e.beforeShare=function(){r("Canvas/ShareFuncHintPage").active=!0},e.endShareAndAd=function(){r("Canvas/ShareFuncHintPage").active=!1,this._hintRichText.string=this._funcTempDescr+"\n\n"+i.AfterDoneHintRichStr,this._confirmLabel.string="点击使用",this._confirmCallback=this._funcTemp,this._confirmThis=this._funcTempThisObj,d.ins.removeListener(u.ONSHARE,this.endShareAndAd,this),d.ins.removeListener(u.ONLOOKADEND,this.endShareAndAd,this)},e.showHintPageBeforeLookAd=function(n,t,e,o){this._funcTempDescr=t,this._funcTempThisObj=o,this._funcTemp=e,d.ins.addListenerOnlyOne(u.ONLOOKADEND,this.endShareAndAd,this),this.show(this.beforeLookAd,n,t+"\n\n"+i.LookADRichStr,"观看广告","取消",this)},e.beforeLookAd=function(){r("Canvas/BG/AudioSwitchButton").getComponent(_).pause(),l.ins[m.RewardVideoAd].show().catch((function(){l.ins[m.RewardVideoAd].load().then((function(){return l.ins[m.RewardVideoAd].show()})).catch((function(n){console.log(n),console.log("激励视频 广告显示失败")}))}))},e.showOnlyConfirmForButton=function(n,t){var i=t.split("##"),e=i[0],o=i[1];o=o.replace(/\\n/g,"\n"),this.showOnlyConfirm(e,o)},i}(a)).FuncTimeUseOverRichStr="<size=50><color=#C73E3A>使用次数已用完，该功能本局无法再使用</color></size>",A.LookADRichStr="<color=#0>观看广告后就可使用该功能\n\n<size=50><bold>是否观看广告来使用该功能？</bold></size></color>",A.ShareHintRichStr="<color=#0>分享后就可使用该功能\n\n<size=50><bold>是否分享给朋友来使用该功能？</bold></size></color>",A.AfterDoneHintRichStr="<color=#0><size=50><bold>真棒！现在你可以<color=#C73E3A>点击使用</color>该功能了！</color></bold></size></color>",p=A))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/IManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,r;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"33d69DYbK9OSK7gEY6bzTfu","IManager",void 0);n("IManager",function(){function n(){}var r=n.prototype;return r.preLoadAsync=function(){var n=t(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r.init=function(){},r.update=function(n){},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/InitStageInfo.ts",["cc","./GameData.ts","./DataType.ts","./StageTable.ts","./SDK.ts"],(function(a){var e,n,t,s,o,i;return{setters:[function(a){e=a.cclegacy},function(a){n=a.GameData},function(a){t=a.DataType},function(a){s=a.StageGenType,o=a.StageTable},function(a){i=a.SDK}],execute:function(){function g(){var a=n.ins[t.CanInMaxStageId];if(!a){console.log("GameData中没有找到关卡信息,从Storage中寻找"),a=i.ins.getStorageSync(t.CanInMaxStageId);var e=o.length-1;a>e&&(a=e,i.ins.setStorage({key:t.CanInMaxStageId,data:a})),n.ins[t.CanInMaxStageId]=a}a||(console.log("Storage中没有找到关卡信息,从第1关开始"),a=1,n.ins[t.CanInMaxStageId]=1),console.log("设置好最大可挑战关卡ID,最大可挑战关卡为第"+a+"关")}a({isLastStage:function(){return o.length-1==n.ins[t.CURSTAGEINFO].id},setGameMaxStageId:g,setMaxStageIDAfterWin:function(){if(n.ins[t.CURSTAGEINFO].isFromShare)g();else{var a=n.ins[t.CURSTAGEINFO].id+1;a=Math.min(o.length-1,a),n.ins[t.CanInMaxStageId]=a,i.ins.setStorage({key:t.CanInMaxStageId,data:a})}},setStageInfoByMaxId:function(){var a=n.ins[t.CanInMaxStageId],e=o[a];n.ins[t.CURSTAGEINFO]=e,console.log("根据最大可挑战关卡ID设置关卡信息,第"+a+"关信息已设置完毕")},setStageInfoFromShare:function(){var a=n.ins[t.ShareMessageQuery];n.ins[t.CURSTAGEINFO]={generateType:s.AUTO,hard:a.hard,message:a.message,isFromShare:!0},console.log("通过分享关卡设置关卡信息")}}),e._RF.push({},"7ab6a9AiYhDsp2sHoV6BPF2","InitStageInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/IScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDK.ts"],(function(n){var e,t,r,i;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){i=n.SDK}],execute:function(){r._RF.push({},"f4dd5C81lNH4aFc343Oz4xF","IScene",void 0);n("IScene",function(){function n(n){this.isEndLoad=!1,this.sceneName=void 0,this.sceneName=n}var r=n.prototype;return r.init=function(){},r.load=function(){var n=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.preload();case 2:this.init(),this.isEndLoad=!0,i.ins.call("hideLoading");case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.update=function(n){},r.preload=function(){var n=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r.release=function(){},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadDataFromLocal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SDK.ts"],(function(e){var t,n,r,a,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){a=e.GameData},function(e){o=e.SDK}],execute:function(){function u(){return(u=t(n().mark((function e(t,r){var u,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=-1),u=a.ins[t]){e.next=7;break}return console.log("没有在内存中找到"+t+"，从storage中查找"),e.next=6,o.ins.getStorage(t);case 6:u=e.sent;case 7:if(u){e.next=10;break}return console.log("没有storage中找到"+t+"，返回null"),e.abrupt("return",null);case 10:if(!(r>0)){e.next=16;break}if(s=Date.now(),!(s-u.saveTime>1e3*r)){e.next=16;break}return console.log(t+"数据已过期，返回null"),e.abrupt("return",null);case 16:return a.ins[t]=u,console.log("从本地或内存读取到未过期的"+t+"，写入GameData"),e.abrupt("return",u);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e("getDataFromRamOrDisk",(function(e,t){return u.apply(this,arguments)})),r._RF.push({},"1a5aao2JyFFC7J36/oCzUrb","LoadDataFromLocal",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AsyncLoad.ts","./AudioEffectController.ts","./ChinaColor.ts","./GuideCommonCtrl.ts","./LoadDataFromLocal.ts","./MyUtil.ts","./NodePool.ts","./OnTouchToClose.ts","./GameData.ts","./GameRoot.ts","./GuideSystem.ts","./IManager.ts","./IScene.ts","./MessageManager.ts","./SceneManager.ts","./AbilityConfig.ts","./DataType.ts","./GuideConfig.ts","./StageTable.ts","./AbilityManager.ts","./Word.ts","./WordList.ts","./MainScene.ts","./AbilityPage.ts","./BGMController.ts","./EndGameUI.ts","./FirstStageStarHint.ts","./FirstWinShareButton.ts","./HintPage.ts","./MoreWordHintLabelTap.ts","./FriendRankButton.ts","./OpenRankPageButton.ts","./ProvinceRankButton.ts","./RankButtonBase.ts","./RankPageCloseButton.ts","./WorldRankButton.ts","./HardButton.ts","./ShareButton.ts","./TestButton.ts","./AudioSwitch.ts","./NewPlayerToolButtonMask.ts","./NewStarButton.ts","./RandomButton.ts","./RestartButton.ts","./UndoButton.ts","./WorldRankList.ts","./SDK.ts","./SDKAdapterBase.ts","./WXSDKAdapter.ts","./InitStageInfo.ts","./StartScene.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./IScene.ts","./InitStageInfo.ts","./DataType.ts","./EndGameUI.ts","./StageTable.ts","./Word.ts","./WordList.ts","./MyUtil.ts","./NodePool.ts","./SDK.ts","./HintPage.ts","./AudioEffectController.ts","./UndoButton.ts","./RandomButton.ts","./NewStarButton.ts","./AbilityManager.ts","./AbilityConfig.ts"],(function(o){var e,t,i,n,r,s,a,d,c,h,l,f,m,g,u,v,_,p,w,C,S,N,A,T,E,W,B,I,b,y,P,L;return{setters:[function(o){e=o.inheritsLoose,t=o.createClass},function(o){i=o.cclegacy,n=o.Label,r=o.Animation,s=o.Vec3,a=o.randomRangeInt,d=o.find,c=o.RichText,h=o.instantiate,l=o.color},function(o){f=o.GameData},function(o){m=o.IScene},function(o){g=o.isLastStage,u=o.setMaxStageIDAfterWin},function(o){v=o.DataType},function(o){_=o.EndGameUI},function(o){p=o.StageGenType,w=o.OtherWordDict,C=o.LyricDict},function(o){S=o.Word},function(o){N=o.WordList},function(o){A=o.MyUtil},function(o){T=o.MyNodePool},function(o){E=o.SDK},function(o){W=o.HintPage},function(o){B=o.AudioEffectController},function(o){I=o.UndoButton},function(o){b=o.RandomButton},function(o){y=o.NewStarButton},function(o){P=o.AbilityManager},function(o){L=o.ABILITY_TIME_TYPE}],execute:function(){i._RF.push({},"d59ecQwARtDCopzirkxQzwU","MainScene",void 0);o("MainScene",function(o){e(m,o);var i=m.prototype;function m(){var e;return(e=o.call(this,"Main")||this)._wordBaseBNode=void 0,e._particleEffectToScoreBaseNode=void 0,e._wordDispearEffectBaseNode=void 0,e._exWordLabelBaseNode=void 0,e._scoreTimeAnimNodeBase=void 0,e._scoreAddAnimNodeBase=void 0,e._wordBoardNode=void 0,e._exWordTitleNode=void 0,e._starChangeAnimEffectBase=void 0,e.rankPageNode=void 0,e.canvasNode=void 0,e._stageTitleRichText=void 0,e.scoreLabel=void 0,e._minWinScoreLabel=void 0,e.hintPage=void 0,e._remainCountRichText=void 0,e.wordList=new N,e.wordDict=void 0,e.winWordsLength=void 0,e.winWordDict=void 0,e.minWinScore=void 0,e._abilityManager=new P,e.wordsInBoard=[],e._score=0,e._showScore=0,e._isNumAnimStart=!1,e.wordNodePool=new T,e.scoreEffectNodePool=new T,e.dispearEffectNodePool=new T,e.scoreAddAnimNodePool=new T,e.scoreTimesAnimNodePool=new T,e.starChangeAnimEffectPool=new T,e._moreRandomId=-1,e.moreRandWord=void 0,e._accumFailTime=0,e.winLyricId=-1,e.audioEffectPlayer=void 0,e.stageLyrics=void 0,e._exWordTitleLabelNodes=void 0,e._EndGameUI=void 0,e.bigSendBeforeNum=0,e}return i.addScore=function(o,e){var t=this;if(this._score+=o,this._scoreNumAddAnimStart(),0!=e){var i=this.scoreAddAnimNodePool.get();i.getComponent(n).string="+"+o;var a=i.getComponent(r);this.canvasNode.addChild(i),i.setPosition(s.ZERO),a.once(r.EventType.FINISHED,(function(){console.log("分数增加动画播放完毕"),i.removeFromParent(),t.scoreAddAnimNodePool.put(i)})),a.play("ScoreAdd"),e>1&&this.playScoreTimeAnim(e+"倍得分"),this._abilityManager.callAbility(L.SCORE,this._score)}},i._scoreNumAddAnimStart=function(){var o=this;if(!this._isNumAnimStart)if(this._showScore!=this.score){this._isNumAnimStart=!0;var e=1e3/Math.exp(this.score-this._showScore);setTimeout((function(){o._showScore!=o.score?(o._showScore+=1,o.scoreLabel.string=""+o._showScore,o._showScore==o.minWinScore&&o.playScoreTimeAnim("\n\n\n\n目标达成！"),o._isNumAnimStart=!1,o._scoreNumAddAnimStart()):o._isNumAnimStart=!1}),e)}else this._isNumAnimStart=!1},i.playScoreTimeAnim=function(o){var e=this,t=this.scoreTimesAnimNodePool.get();t.getComponent(n).string=o;var i=t.getComponent(r);this.canvasNode.addChild(t),t.setPosition(0,400),i.once(r.EventType.FINISHED,(function(){console.log("分数倍率动画播放完毕"),t.removeFromParent(),e.scoreTimesAnimNodePool.put(t)})),i.play("ScoreTimesAnimClip")},i._generateWords=function(){if(this._genWordDictAndWinWordLength(),f.ins[v.CURSTAGEINFO].generateType==p.AUTO){var o=f.ins[v.CURSTAGEINFO].hard;this._generateWordsAuto(o)}else this._generateWordsReadTable()},i._getRandPos=function(o,e,t,i,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var s=t/r,d=i/r+1;return[a(o/n,e/n+1)*n,a(s,d)*r]},i._generateWordsAuto=function(o){this._wordBoardNode.active=!1;var e=[0,0,30,30][o-1],t=[5,8,12,12][o-1],i=[1,1,3,3][o-1],n=[3,3,5,7][o-1],r=[20,20,15,12][o-1];this._accumFailTime>=2&&g()&&f.ins[v.MaxScore]<280&&(console.log("连输"+this._accumFailTime+"把，开始降低难度"),e=Math.max(20,e-2*Math.floor(this._accumFailTime/2)),r=Math.min(20,r+4*Math.floor(this._accumFailTime/2)));for(var s=[],d=[],c=0;c<5;c++)s.push(c+6),s.push(c+6),s.push(c+6);A.shuffle(s);for(var h=0;h<i;h++)for(var l=0;l<t+this.winWordsLength;l++)d.push(l),d.push(l),d.push(l);for(var m=0;m<this.winWordsLength;m++)d.push(m),d.push(m);for(var u=a(0,4),_=0;_<9;_++)d.push(u);this._moreRandomId=u,this.moreRandWord=this.wordDict[u];for(var p=0;p<3;p++)d.push(this.wordDict.length-1);A.shuffle(d),f.ins[v.WordMaxSiblingIndex]=d.length+s.length;for(var w=0;w<n;w++)this._generateWord(d.pop(),-300,5*w-300),this._generateWord(d.pop(),0,5*w-300),this._generateWord(d.pop(),300,5*w-300);for(var C=0;C<6;C++){var S=C%2,N=(C-S)/2%3;this._generateWordNoOverLayTest(d.pop(),100*S-300,100*N-100)}for(var T=0;T<6;T++){var E=T%2,W=(T-E)/2%3;this._generateWordNoOverLayTest(d.pop(),200+100*E,100*W-100)}for(var B=0;B<r;B++)this._generateWord.apply(this,[d.pop()].concat(this._getRandPos(-100,100,-100,100,100,100)));var I=a(0,2);console.log("左侧-"+I);for(var b=0;b<e;b++){var y=b%2,P=(b-y)/2%3;this._generateWord(d.pop(),-200-100*I+100*y,250+50*P)}I=a(0,2),console.log("右侧+"+I);for(var L=0;L<e;L++){var x=L%2,R=(L-x)/2%3;this._generateWord(d.pop(),100+100*I+100*x,250+50*R)}var M=d.length;console.log("最后剩下"+M+"个元素");for(var D=Math.min(70,M),F=0;F<D;F++){var z=F%7,U=(F-z)/7%4;this._generateWord(d.pop(),100*z-300,200+50*U)}M=d.length,console.log("最后剩下"+M+"个元素");for(var O=0;O<M;O++){var G=O%7,H=(O-G)/7%2;this._generateWord(d.pop(),100*G-300,200+50*H)}for(var k=0;k<s.length;k++)this._generateWord.apply(this,[s[k]].concat(this._getRandPos(-300,300,-100,100,100,100)));this._wordBoardNode.active=!0},i._generateWord=function(o,e,t){var i=this.wordNodePool.get(),n=i.getComponent(S),r=this.wordDict[o];return n.init(o,r,e,t),this._wordBoardNode.addChild(i),this._overlayTest(n),this.wordsInBoard.push(n),n},i._generateWordNoOverLayTest=function(o,e,t,i){void 0===i&&(i=[]);var n=this.wordNodePool.get(),r=n.getComponent(S),s=this.wordDict[o];return r.init(o,s,e,t),this._wordBoardNode.addChild(n),i.forEach((function(o){r.addUnderWord(o)})),this.wordsInBoard.push(r),r},i._generateWordsReadTable=function(){var o=this,e=f.ins[v.CURSTAGEINFO];f.ins[v.WordMaxSiblingIndex]=e.table.length,e.table.forEach((function(e){var t=e[0],i=e[1],n=e[2];o._generateWord(t,i,n)}))},i._genWordDictAndWinWordLength=function(){var o=f.ins[v.CURSTAGEINFO],e="";f.ins[v.CURSTAGEINFO].generateType==p.AUTO?(-1==this.winLyricId&&(this.winLyricId=a(0,this.stageLyrics.length)),e=this.stageLyrics[this.winLyricId][0]):e=o.winString;var t=e.split("");this.wordDict=t.concat(w),this.winWordDict=t,this.winWordsLength=t.length,this.minWinScore=o.minScore,this.scoreLabel.string="0",this._minWinScoreLabel.string="/ "+this.minWinScore},i._overlayTest=function(o){this.wordsInBoard.forEach((function(e){o.isOverLayOtherWord(e)&&o.addUnderWord(e)}))},i.init=function(){this.stageLyrics=f.ins[v.StageLyrics]||C,this.bigSendBeforeNum=0,this._wordBoardNode=d("Canvas/WordBoard"),this.canvasNode=d("Canvas"),this._wordDispearEffectBaseNode=d("Canvas/WordDispearEffect"),this._wordBaseBNode=d("Canvas/WordBase"),this._particleEffectToScoreBaseNode=d("Canvas/ParticleEffectToScore"),this._exWordTitleNode=d("Canvas/exWordTitle"),this._exWordLabelBaseNode=d("Canvas/exWordTitleLabelBase"),this._scoreAddAnimNodeBase=d("Canvas/ScoreAddAnimBase"),this._scoreTimeAnimNodeBase=d("Canvas/ScoreTimesAnimBase"),this._starChangeAnimEffectBase=d("Canvas/StarChangeAnimEffectBase"),this.rankPageNode=d("Canvas/RankPage"),this.wordNodePool.init(this._wordBaseBNode),this.scoreEffectNodePool.init(this._particleEffectToScoreBaseNode),this.scoreAddAnimNodePool.init(this._scoreAddAnimNodeBase),this.scoreTimesAnimNodePool.init(this._scoreTimeAnimNodeBase),this.dispearEffectNodePool.init(this._wordDispearEffectBaseNode),this.starChangeAnimEffectPool.init(this._starChangeAnimEffectBase),this.scoreLabel=d("Canvas/ScoreLabel").getComponent(n),this._EndGameUI=d("Canvas/EndGameUI").getComponent(_),this._EndGameUI.init(),this.hintPage=d("Canvas/HintPage").getComponent(W),this._remainCountRichText=d("Canvas/RemainCountRichText").getComponent(c),this.hintPage.init(),this._stageTitleRichText=d("Canvas/StageTitleRichText").getComponent(c),this._stageTitleRichText.string=this.getStageTitleRichText(),this._minWinScoreLabel=d("Canvas/MinWinScoreLabel").getComponent(n),d("Canvas/BG/undo").getComponent(I).init(),d("Canvas/BG/random").getComponent(b).init(),d("Canvas/BG/newStar").getComponent(y).init(),this.audioEffectPlayer=d("AudioEffectController").getComponent(B),this.audioEffectPlayer.init(),this._moreRandomId=-1,this._generateWords(),this._initExWordTitle(),this.wordList.init(),this.setRemainCount(),this._abilityManager.init(),this._abilityManager.callAbility(L.BEGIN)},i.setRemainCount=function(){var o=this.wordDict.length-1,e=0;this.wordsInBoard.forEach((function(t){t.wordIndex==o&&e++})),this._remainCountRichText.string="<color=#0>还剩<color=#FF7A00><b><size=60>"+this.wordsInBoard.length+"</size></b></color> 张\n含<color=#FF7A00><size=35>🌟X"+e+"</size></color>"},i._initExWordTitle=function(){var o=this;this._exWordTitleLabelNodes=[];var e=this._exWordLabelBaseNode.getComponent(n).fontSize;this._exWordTitleNode.setPosition(new s(-(this.winWordsLength-1)*e/2,this._exWordTitleNode.position.y));var t=0;this.winWordDict.forEach((function(i){var r=h(o._exWordLabelBaseNode);r.active=!0,r.getComponent(n).string=i,o._exWordTitleNode.addChild(r),r.setPosition(new s(e*t,0)),o._exWordTitleLabelNodes.push(r),t++}));var i=this._exWordTitleNode.getChildByName("MoreUp");this._moreRandomId<0?i.active=!1:(i.active=!0,i.setPosition(this._moreRandomId*e,i.position.y),setTimeout((function(){o.playScoreTimeAnim("“"+o.wordDict[o._moreRandomId]+"”++\n")}),200))},i.upDateExTitleColor=function(o){var e=this,t=l(199,62,58),i=l(43,51,62),r=[];o.forEach((function(o){o.wordIndex<e.winWordsLength&&(r[o.wordIndex]=!0)}));for(var s=0;s<this._exWordTitleLabelNodes.length;s++)this._exWordTitleLabelNodes[s].getComponent(n).color=r[s]?t:i},i.getStageTitleRichText=function(){return f.ins[v.CURSTAGEINFO].isFromShare?"<color=#C73E3A> 来自好友的分享 </color>":"<color=#2B333E>第</color><bold><color=#C73E3A> "+f.ins[v.CURSTAGEINFO].id+" </color></bold><color=#2B333E>关</color>"},i.genStar=function(){var o=this,e=this.wordDict.length-1;this._generateWord(e,0,100),this.setRemainCount();var t=this.starChangeAnimEffectPool.get(),i=new s(0,100);t.setPosition(i),t.setScale(s.ONE),this.canvasNode.addChild(t);var n=t.getComponent(r);n.once(r.EventType.FINISHED,(function(){console.log("星星变化特效消失特效播放完毕"),t.removeFromParent(),o.starChangeAnimEffectPool.put(t)}),this),n.play()},i.shuffleWord=function(){E.ins.call("showLoading",{title:"加载中"}),this._wordBoardNode.active=!1;for(var o=this.wordsInBoard.length;o;){var e=Math.floor(Math.random()*o--);this._exchangeWordContent(this.wordsInBoard[e],this.wordsInBoard[o])}this._wordBoardNode.active=!0,E.ins.call("hideLoading")},i._exchangeWordContent=function(o,e){var t=o.wordIndex,i=o.wordText;o.changeWordIndexAndText(e.wordIndex,e.wordText),e.changeWordIndexAndText(t,i)},i.lastwordBackToBoard=function(){var o=this.wordList.wordsInList.pop(),e=o.wordIndex;this.wordList.isLastStar&&(e=this.wordDict.length-1),o.node.removeFromParent(),o.clear(),this.wordNodePool.put(o.node),this._generateWord(e,this.wordList.lastPos.x,this.wordList.lastPos.y)},i.gameEnd=function(){if(g()){var o=f.ins[v.MaxScore],e=Math.ceil(this.score/4)+Math.min(Math.max(0,this.score-o),80);e>=1&&this._abilityManager.addAbilityValue(e);var t=!1;if(o<this.minWinScore&&this.score>=this.minWinScore){f.ins[v.MaxScore]=o,d("Canvas/FirstWinShareButton").active=!0;var i="<color=#0>恭喜您以<color=#C73E3A><b><size=80>{{score}}</size></b></color>分通过<color=#C73E3A><b>最终关卡</b></color>\n并获得了<color=#C73E3A><b><size=50>全国排行榜资格</size></b></color>\n\n我们诚挚地邀请您与全国通关玩家一起挑战第<color=#C73E3A><b>3</b></color>关<color=#C73E3A><b><size=50>极限分数</size></b></color>！\n\n希望您有一个愉快的游戏体验！</color>\n".replace("{{score}}",""+this.score);t=!0,this.hintPage.showOnlyConfirm("邀请函",i,"确认",(function(){d("Canvas/FirstWinShareButton").destroy(),f.ins[v.InviteShare]=!1}),this)}if(o<this.score){o=this.score,console.log("更新最大分数，分数为"+this.score);var n=Date.now(),r=a(-0xfffffffffff,0xfffffffffff),s={wxgame:{score:o,update_time:n},randId:r};if(f.ins[v.MaxScore]=o,f.ins[v.MaxScoreTime]=n,E.ins.postMessageToOpenContext({type:"engine",event:"updateSelfMaxScore",selfScoreData:s}),E.ins.updateScore(o,n,r),!t&&this.score>=60){var c=1e4,h=Math.min(Math.ceil(100*(.5+.5*Math.sin(Math.PI/2*Math.min(o/531,1)))*c),1e6);this.hintPage.showOnlyConfirm("新分数！","<color=#0>恭喜您突破记录!\n\n总计获得 <color=#C73E3A><size=80><b>"+this.score+"</b></size></color> 分!\n\n超过全国 <color=#C73E3A><size=60><b>"+h/c+"%</b></size></color> 的玩家！\n\n快点告诉好友们吧！</color>>","点击分享",(function(){d("Canvas/ShareFuncHintPage").active=!0}))}}}this._score>=this.minWinScore?this.win():this.fail()},i.win=function(){this._accumFailTime=0,console.log("游戏胜利，当前分数为"+this.score),this.audioEffectPlayer.playOneShotInClips(6),u(),this._EndGameUI.show(!0)},i.fail=function(){this._accumFailTime+=1,console.log("游戏失败，当前分数为"+this.score),this.audioEffectPlayer.playOneShotInClips(7),this._EndGameUI.show(!1)},i.clear=function(){var o=this;this.wordList.wordsInList.forEach((function(e){e.node.removeFromParent(),o.wordNodePool.put(e.node),e.clear()})),this.wordList.wordsInList=[],this.wordsInBoard.forEach((function(e){e.node.removeFromParent(),o.wordNodePool.put(e.node),e.clear()})),this._exWordTitleLabelNodes.forEach((function(o){o.removeFromParent(),o.destroy()})),this.wordsInBoard=[],this._EndGameUI.clear(),this.hintPage.clear(),this._score=0,this._showScore=0,this._isNumAnimStart=!1},i.restart=function(){var o=this;E.ins.call("showLoading",{title:"加载中"}),this.audioEffectPlayer.playOneShotInClips(3);var e=this.starChangeAnimEffectPool.get();e.setPosition(s.ZERO);var t=new s(3,3);e.setScale(t),this.canvasNode.addChild(e);var i=e.getComponent(r);i.once(r.EventType.FINISHED,(function(){console.log("星星变化特效消失特效播放完毕"),e.removeFromParent(),o.starChangeAnimEffectPool.put(e)}),this),i.play(),this.clear(),this.init(),E.ins.call("hideLoading")},i.showLessCountHint=function(){var o="<color=#0>恭喜您！场上只剩<color=#C73E3A><b><size=50>"+(30+this.bigSendBeforeNum)+"</size></b></color>张卡片！\n\n从<color=#C73E3A><b><size=50>现在</size></b></color>开始：                                              \n<color=#C73E3A><b><size=50>每次</size></b></color>消除都会奖励<size=70>🌟+1</size>\n\n<color=#C73E3A><b><size=50>连续</size></b></color>消除还将额外获得<size=70>🌟+1</size></color>\n";this.bigSendBeforeNum>1&&(o+="<color=#0><size=30>由于您<color=#C73E3A><b>文采</b></color>斐然，已为您<color=#C73E3A><b>提前"+this.bigSendBeforeNum+"张</b></color>卡片触发</size></color>"),this.hintPage.showOnlyConfirm("🌟大派送",o)},i.release=function(){this.wordsInBoard.forEach((function(o){o.release()})),this.wordsInBoard=null,this.wordList.release(),this.wordList=null,this._EndGameUI=null,this._wordBoardNode=null,this._wordBaseBNode=null,this._particleEffectToScoreBaseNode=null},t(m,[{key:"score",get:function(){return this._score}}]),m}(m));i._RF.pop()}}}));

System.register("chunks:///_virtual/MessageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IManager.ts"],(function(e){var n,t,s,i;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy},function(e){i=e.IManager}],execute:function(){s._RF.push({},"ab39eQwi89HdYuxBMgonxsK","MessageManager",void 0),e("MessageManager",function(e){function s(){var n;return(n=e.call(this)||this)._listeners=new Map,n}n(s,e);var i=s.prototype;return i.removeListener=function(e,n,t){void 0===t&&(t=null);var s=this._listeners.get(e);if(null!=s)for(var i=0;i<s.length;i++){var r=s[i];null!=r&&r[0]==n&&r[1]==t&&(s[i]=null)}},i.addListener=function(e,n,t){void 0===t&&(t=null),null==this._listeners.get(e)&&this._listeners.set(e,[]);for(var s=this._listeners.get(e),i=0;i<s.length;i++){if(null==s[i])return void(s[i]=[n,t])}this._listeners.get(e).push([n,t])},i.addListenerOnlyOne=function(e,n,t){void 0===t&&(t=null);var s=this._listeners.get(e);if(null!=s){for(var i=0;i<s.length;i++){var r=s[i];if(null!=r&&r[0]==n&&r[1]==t)return}this.addListener(e,n,t)}else this.addListener(e,n,t)},i.removeAllListener=function(e){this._listeners.delete(e)},i.sendMessage=function(e,n){void 0===n&&(n=null);var t=this._listeners.get(e);if(t)for(var s=0;s<t.length;s++)if(null!=t[s]){var i=t[s][0],r=t[s][1];i.call(r,n)}},i.clearListeners=function(){this._listeners.clear()},t(s,null,[{key:"ins",get:function(){return null==this._ins&&(this._ins=new s),this._ins}}]),s}(i))._ins=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/MoreWordHintLabelTap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts"],(function(o){var n,e,r,t,c,i;return{setters:[function(o){n=o.inheritsLoose},function(o){e=o.cclegacy,r=o._decorator,t=o.Node,c=o.Component},function(o){i=o.SceneManager}],execute:function(){var a;e._RF.push({},"b44fffY2UtAhIyjrX9J1wDd","MoreWordHintLabelTap",void 0);var s=r.ccclass;r.property,o("MoreWordHintLabelTap",s("MoreWordHintLabelTap")(a=function(o){function e(){return o.apply(this,arguments)||this}n(e,o);var r=e.prototype;return r.start=function(){this.node.on(t.EventType.TOUCH_END,this.onTouch,this)},r.update=function(o){},r.onTouch=function(){var o=i.ins.curScene;o.hintPage.showOnlyConfirm("数量提升","<color=#0>在该局游戏中，\n<color=#C73E3A><size=70><b>“"+o.moreRandWord+"” </b></size></color>将比其他文字多出9张卡片</color>\n")},e}(c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/MyUtil.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"5cc8clKUy9KbamYdWCaWBP6","MyUtil",void 0);n("MyUtil",function(){function n(){}return n.removeObjFromArray=function(n,t){var r=n.indexOf(t);return r>=0&&(n.splice(r,1),!0)},n.contains=function(n,t){return n.indexOf(t)>=0},n.getRandomArray=function(n){for(var t=[],r=n.length;r>0;){var e=Math.floor(Math.random()*r);e==r&&(e-=1),t.push(n.splice(e,1)[0]),r-=1}return t},n.pointDistance=function(n,t){var r=n[0]-t[0],e=n[1]-t[1];return Math.sqrt(r*r+e*e)},n.getRad=function(t,r){var e=n.pointDistance(t,r),a=r[1]-t[1],o=(r[0]-t[0])/e,i=Math.acos(a/e);return o>0?i:-i},n.isNumEqual=function(n,t,r){return void 0===r&&(r=3),Math.abs(n-t)<r},n.degNormalize=function(n){return(n%=360)>180?n-360:n<-180?n+360:n},n.clamp=function(n,t,r){return n<t?t:n>r?r:n},n.shuffle=function(n){for(var t=n.length;t;){var r=Math.floor(Math.random()*t--),e=n[t];n[t]=n[r],n[r]=e}},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/NewPlayerToolButtonMask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./DataType.ts"],(function(t){var e,o,n,a,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,a=t.Component},function(t){r=t.GameData},function(t){s=t.DataType}],execute:function(){var u;o._RF.push({},"1e70deA9wRFCIJP8SamTbJh","NewPlayerToolButtonMask",void 0);var i=n.ccclass;n.property,t("NewPlayerToolButtonMask",i("NewPlayerToolButtonMask")(u=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.update=function(){(1!=r.ins[s.CURSTAGEINFO].id||r.ins[s.GuideStepId]>4)&&this.node.destroy()},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/NewStarButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts","./HintPage.ts"],(function(e){var t,n,i,o,a,r,s,c,l;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.Sprite,a=e.color,r=e.Label,s=e.Component},function(e){c=e.SceneManager},function(e){l=e.HintPage}],execute:function(){var h;n._RF.push({},"b6aacrm1dJAf7AGhxrnzray","NewStarButton",void 0);var u=i.ccclass,m=(i.property,"<color=#C73E3A><bold>创造万能</bold></color><color=#0>🌟：在场上创建🌟卡片\n🌟下落后会自动变成最近的卡片\n<size=30>该功能每局只能使用<color=#C73E3A> 2 </color>次</size></color>");e("NewStarButton",u("NewStarButton")(h=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._remainUseTime=void 0,t._timeLable=void 0,t.buttonLabel=void 0,t}t(n,e);var i=n.prototype;return i.onTouch=function(){console.log("玩家按下新建星星按键");var e=c.ins.curScene;e.audioEffectPlayer.playOneShotInClips(5),0!=this._remainUseTime?this.showHintPageDone():e.hintPage.showOnlyConfirm("创造万能🌟",m+"\n\n"+l.FuncTimeUseOverRichStr)},i.showHintPageDone=function(){c.ins.curScene.hintPage.show(this.genStar,"创造万能🌟",m,"点击使用","取消",this)},i.genStar=function(){var e=c.ins.curScene;e.genStar(),e.audioEffectPlayer.playOneShotInClips(3),e.hintPage.node.active=!1,this._remainUseTime-=1,this._timeLable.string="X"+this._remainUseTime,0==this._remainUseTime&&(this.getComponent(o).color=a(192,192,192),this.buttonLabel.color=a(192,192,192),this._timeLable.node.active=!1)},i.addTime=function(){this._remainUseTime+=1,this._timeLable.string="X"+this._remainUseTime,this.getComponent(o).color=a(255,122,0),this.buttonLabel.color=a(255,122,0),this._timeLable.node.active=!0},i.init=function(){this._remainUseTime=2,this._timeLable=this.node.getChildByPath("TimeLabel").getComponent(r),this._timeLable.node.active=!0,this._timeLable.string="X2",this.getComponent(o).color=a(255,122,0),this.buttonLabel=this.node.getChildByPath("Label").getComponent(r),this.buttonLabel.color=a(255,122,0)},n}(s))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/NodePool.ts",["cc"],(function(o){var t,e;return{setters:[function(o){t=o.cclegacy,e=o.instantiate}],execute:function(){t._RF.push({},"0ff82QATadAkIaG6EB9Ah/G","NodePool",void 0);o("MyNodePool",function(){function o(){this._nodePool=[],this._baseNode=void 0}var t=o.prototype;return t.init=function(o){this._baseNode=o},t.get=function(){if(this._nodePool.length>0)return this._nodePool.pop();var o=e(this._baseNode);return o.active=!0,o},t.put=function(o){this._nodePool.push(o)},t.release=function(){this._baseNode=null,this._nodePool=null},o}());t._RF.pop()}}}));

System.register("chunks:///_virtual/OnTouchToClose.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var n,t,e,c,i;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,c=o.Animation,i=o.Component}],execute:function(){var s;t._RF.push({},"d0e47lQjqtJWYpig5UmQnLR","OnTouchToClose",void 0);var r=e.ccclass;e.property,o("OnTouchToClose",r("OnTouchToClose")(s=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.close=function(){this.node.active=!1},e.show=function(){this.node.active=!0;var o=this.getComponent(c);o&&o.play()},t}(i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/OpenRankPageButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts","./SDK.ts","./FriendRankButton.ts"],(function(e){var n,t,o,a,i,r,c,l,u,s,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,c=e.Node,l=e.Animation,u=e.Component},function(e){s=e.SceneManager},function(e){p=e.SDK},function(e){f=e.FriendRankButton}],execute:function(){var g,d,y,h,k,B,R;i._RF.push({},"d1021/qRFFF15kyWBmrhBSe","OpenRankPageButton",void 0);var P=r.ccclass,m=r.property;e("OpenRankPageButton",(g=P("OpenRankPageButton"),d=m({type:c}),y=m({type:c}),g((B=n((k=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n=e.call.apply(e,[this].concat(i))||this,o(n,"friendRankButton",B,a(n)),o(n,"rankPageNode",R,a(n)),n}return t(n,e),n.prototype.onTouch=function(){var e=this;console.log("点击打开排行榜按键"),s.ins.curScene.audioEffectPlayer.playOneShotInClips(5),this.rankPageNode.active=!0,this.rankPageNode.getChildByName("ContentBG").getComponent(l).play(),p.ins.call("authorize",{scope:"scope.WxFriendInteraction",success:function(){console.log("朋友圈权限已通过"),e.friendRankButton.getComponent(f).select()},fail:function(){console.log("朋友圈权限授权失败"),p.ins.call("showToast",{title:"朋友排名未授权",icon:"error",duration:3e3})}})},n}(u)).prototype,"friendRankButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(k.prototype,"rankPageNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ProvinceRankButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadDataFromLocal.ts","./GameData.ts","./DataType.ts","./SDK.ts","./RankButtonBase.ts"],(function(t){var a,n,e,r,o,s,i,c,u,p;return{setters:[function(t){a=t.inheritsLoose,n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator},function(t){s=t.getDataFromRamOrDisk},function(t){i=t.GameData},function(t){c=t.DataType},function(t){u=t.SDK},function(t){p=t.RankButtonBase}],execute:function(){var v;r._RF.push({},"23008iUenZIxbc9CJAgXeTn","ProvinceRankButton",void 0);var k=o.ccclass;o.property,t("ProvinceRankButton",k("ProvinceRankButton")(v=function(t){function r(){for(var a,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(a=t.call.apply(t,[this].concat(e))||this)._provRankData=void 0,a}a(r,t);var o=r.prototype;return o.select=function(){t.prototype.select.call(this)},o.getProvRankData=function(){var t=n(e().mark((function t(){var a;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(c.ProvRankData,1200);case 2:if(!(a=t.sent)){t.next=6;break}return this._provRankData=a.data,t.abrupt("return");case 6:return i.ins[c.ProvRankData]={},i.ins[c.ProvRankData].saveTime=Date.now(),t.next=10,u.ins.getProvRankDataFromServer();case 10:this._provRankData=t.sent,this._provRankData&&(console.log("从云端获取到省份榜数据，写入内存及本地"),i.ins[c.ProvRankData].data=this._provRankData,u.ins.setStorage({key:c.ProvRankData,data:i.ins[c.ProvRankData]}));case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.handleData=function(){var t=n(e().mark((function t(){var a,n,r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvRankData();case 2:if(this._provRankData&&0!=this._provRankData.length){t.next=4;break}return t.abrupt("return");case 4:for(a=[],n=0;n<this._provRankData.length;n++)r={totalScoreStr:this.num2UnitString(this._provRankData[n].totalScore),rank:this._provRankData[n].rank,provName:this._provRankData[n].provName},a.push(r);u.ins.postMessageToOpenContext({type:"engine",event:"showProvRank",rankData:a});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.num2UnitString=function(t){return t<1e4?""+t:t<1e8?t/1e4+" 万":Math.ceil(t/1e3)/1e5+" 亿"},o.unselect=function(){t.prototype.unselect.call(this)},r}(p))||v);r._RF.pop()}}}));

System.register("chunks:///_virtual/RandomButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts","./HintPage.ts"],(function(o){var n,t,e,i,s,a,r,c,l,u,h,f;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Node,s=o.Vec3,a=o.Animation,r=o.Sprite,c=o.color,l=o.Label,u=o.Component},function(o){h=o.SceneManager},function(o){f=o.HintPage}],execute:function(){var p;t._RF.push({},"2f200JS65NAP5/5RwI1vUC4","RandomButton",void 0);var g=e.ccclass,d=(e.property,"<color=#C73E3A><bold>打乱</bold></color><color=#0>：将场上剩余卡片重新排列\n<size=30>该功能每局只能使用<color=#C73E3A> 1 </color>次</size></color>");o("RandomButton",g("RandomButton")(p=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this)._isUse=!1,n.buttonLabel=void 0,n}n(t,o);var e=t.prototype;return e.start=function(){var o=this;this.node.on(i.EventType.TOUCH_END,(function(){console.log("玩家按下打乱按键");var n=h.ins.curScene;n.audioEffectPlayer.playOneShotInClips(5),o._isUse?n.hintPage.showOnlyConfirm("打乱",d+"\n\n"+f.FuncTimeUseOverRichStr):o.showHintPageDone()}))},e.showHintPageDone=function(){h.ins.curScene.hintPage.show(this.shuffle,"打乱",d,"点击使用","取消",this)},e.shuffle=function(){var o=h.ins.curScene;o.shuffleWord(),o.audioEffectPlayer.playOneShotInClips(3),o.hintPage.node.active=!1;var n=o.starChangeAnimEffectPool.get();n.setPosition(s.ZERO);var t=new s(3,3);n.setScale(t),o.canvasNode.addChild(n);var e=n.getComponent(a);e.once(a.EventType.FINISHED,(function(){console.log("星星变化特效消失特效播放完毕"),n.removeFromParent(),o.starChangeAnimEffectPool.put(n)}),this),e.play(),this._isUse=!0,this.getComponent(r).color=c(192,192,192),this.buttonLabel.color=c(192,192,192)},e.init=function(){this._isUse=!1,this.getComponent(r).color=c(255,122,0),this.buttonLabel=this.node.getChildByPath("Label").getComponent(l),this.buttonLabel.color=c(255,122,0)},t}(u))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/RankButtonBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts"],(function(t){var e,n,o,r,i,a,c,u,l,s,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,c=t.Node,u=t.Sprite,l=t.color,s=t.Label,p=t.Component},function(t){f=t.SceneManager}],execute:function(){var h,B,y,g,d;i._RF.push({},"2730edDwXVB56AHFaEBT0ay","RankButtonBase",void 0);var C=a.ccclass,R=a.property;t("RankButtonBase",(h=C("RankButtonBase"),B=R({type:[c]}),h((d=e((g=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"OtherRankButton",d,r(e)),e}n(e,t);var i=e.prototype;return i.select=function(){this.getComponent(u).color=l(199,62,58),this.getComponentInChildren(s).color=l(255,255,255),this.OtherRankButton.forEach((function(t){t.getComponent(e).unselect()}))},i.unselect=function(){this.getComponent(u).color=l(242,242,242),this.getComponentInChildren(s).color=l(0,0,0)},i.playButtonAudioEffect=function(){f.ins.curScene.audioEffectPlayer.playOneShotInClips(5)},e}(p)).prototype,"OtherRankButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=g))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/RankPageCloseButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts"],(function(e){var n,t,a,o,r,i,c,l,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,i=e._decorator,c=e.Node,l=e.Component},function(e){s=e.SceneManager}],execute:function(){var u,p,g,f,d;r._RF.push({},"6616bSHIJxDi4SVd2WdV/vZ","RankPageCloseButton",void 0);var y=i.ccclass,P=i.property;e("RankPageCloseButton",(u=y("RankPageCloseButton"),p=P({type:c}),u((d=n((f=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n=e.call.apply(e,[this].concat(r))||this,a(n,"rankPageNode",d,o(n)),n}return t(n,e),n.prototype.closeRankPage=function(){this.rankPageNode.active=!1,s.ins.curScene.audioEffectPlayer.playOneShotInClips(5)},n}(l)).prototype,"rankPageNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/RestartButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts"],(function(o){var t,n,e,r,c,s;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,r=o.Node,c=o.Component},function(o){s=o.SceneManager}],execute:function(){var a;n._RF.push({},"62ef9xuzR9AqaV6YODoU/qr","RestartButton",void 0);var i=e.ccclass;e.property,o("RestartButton",i("RestartButton")(a=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.start=function(){var o=this;this.node.on(r.EventType.TOUCH_END,(function(){console.log("玩家按下重新开始按键");var t=s.ins.curScene;t.audioEffectPlayer.playOneShotInClips(5),t.hintPage.show((function(){t.restart(),t.hintPage.node.active=!1}),"重新开局","<color=#C73E3A><bold>重新开局</bold></color><color=#0>：开始一局新的游戏，道具使用次数及卡片都将恢复\n\n<color=#C73E3A><bold>请注意：分数即将归零</bold></color>\n\n<size=60><bold>是否要重新开始？</bold></size></color>\n","重新开始","取消",o)}))},n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/SceneManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDK.ts","./IManager.ts","./MessageManager.ts"],(function(e){var n,t,i,r,s,c,a,u,o,h;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass,i=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e.view,a=e.director},function(e){u=e.SDK},function(e){o=e.IManager},function(e){h=e.MessageManager}],execute:function(){s._RF.push({},"1950fcSw+JMbJQO3rJkRFBS","SceneManager",void 0),e("SceneManager",function(e){function s(){var n;return(n=e.call(this)||this).gameWidth=void 0,n.gameHeight=void 0,n.curScene=void 0,n}n(s,e);var o=s.prototype;return o.init=function(){var e=c.getVisibleSize();this.gameWidth=e.width,this.gameHeight=e.height},o.update=function(e){this.curScene&&this.curScene.isEndLoad&&this.curScene.update(e)},o.setNewScene=function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.ins.call("showLoading",{title:"加载中"}),h.ins.clearListeners(),this.curScene&&this.curScene.release(),this.curScene=n,a.loadScene(n.sceneName,(function(){n.load()}));case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),t(s,null,[{key:"ins",get:function(){return null==this._ins&&(this._ins=new s),this._ins}}]),s}(o))._ins=void 0,s._RF.pop()}}}));

System.register("chunks:///_virtual/SDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDKAdapterBase.ts","./WXSDKAdapter.ts"],(function(t){var e,n,i,r;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){i=t.SDKAdapterBase},function(t){r=t.WXSDKAdapter}],execute:function(){n._RF.push({},"20f9fjR0GBIxZmSz0eS2SfV","SDK",void 0),t("SDK",function(){function t(){}return e(t,null,[{key:"ins",get:function(){return this._SDKAdapter||(window.wx||window["其他平台"]?this._SDKAdapter=new r:this._SDKAdapter=new i,this._SDKAdapter.init()),this._SDKAdapter}}]),t}())._SDKAdapter=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/SDKAdapterBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataType.ts"],(function(t){var r,e,n,a;return{setters:[function(t){r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){a=t.DataType}],execute:function(){n._RF.push({},"562e5GcLDhOoKv2d9loQc4q","SDKAdapterBase",void 0);t("SDKAdapterBase",function(){function t(){}var n=t.prototype;return n.init=function(){},n.call=function(t){if(this[t]){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];this[t].apply(this,e)}else console.log("无SDK环境下调用API接口"+t)},n.updateDBUserInfo=function(){var t=r(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("将用户数据写入持久层"),this.setStorage({key:a.UserInfo,data:r});case 2:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n.postMessageToOpenContext=function(t){},n.getUserInfo=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getStorageSync(a.MaxScore);case 2:return t.t0=t.sent,t.next=5,this.getStorageSync(a.MaxScoreTime);case 5:return t.t1=t.sent,t.next=8,this.getStorageSync(a.ABILITY_NUM);case 8:return t.t2=t.sent,t.abrupt("return",{openid:"virtualId",nickName:"l",avatarUrl:"openDataContext/render/avatar.png",gender:0,maxScore:t.t0,maxScoreTime:t.t1,ABILITY_NUM:t.t2});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.getDataVersion=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.callCloudFunction=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.getWorldRankDataFromServer=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.getObj=function(t){return this[t]?this[t]:(console.log("无SDK环境下调用SDK GetObj "+t),null)},n.setUserCloudStorage=function(t){console.log("ISDKAdapter setUserCloudStorage")},n.setStorage=function(t){localStorage.setItem(t.key,JSON.stringify(t.data))},n.getStorageSync=function(t){var r=localStorage.getItem(t);return null==r?null:JSON.parse(r)},n.getStorage=function(){var t=r(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getStorageSync(r));case 1:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n.updateScore=function(){var t=r(e().mark((function t(r,n,o){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setStorage({key:a.MaxScore,data:r}),this.setStorage({key:a.MaxScoreTime,data:n});case 2:case"end":return t.stop()}}),t,this)})));return function(r,e,n){return t.apply(this,arguments)}}(),n.updateAbilityNum=function(){var t=r(e().mark((function t(r){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setStorage({key:a.ABILITY_NUM,data:r});case 1:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),n.loadSubPackage=function(t,r){return null},n.getProvRankDataFromServer=function(){var t=r(e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[{provName:"北京市",rank:1,totalScore:123456789},{provName:"江西省",rank:2,totalScore:1325},{provName:"天津市",rank:3,totalScore:0},{provName:"河北省",rank:4,totalScore:0},{provName:"山西省",rank:5,totalScore:0},{provName:"内蒙古自治区",rank:6,totalScore:0}]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n.readFileFromCloud=function(){var t=r(e().mark((function t(r,n,a){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","");case 3:case"end":return t.stop()}}),t)})));return function(r,e,n){return t.apply(this,arguments)}}(),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ShareButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./SDK.ts"],(function(t){var e,n,a,r,o,i,s,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator,r=t.Node,o=t.find,i=t.EditBox,s=t.Component},function(t){u=t.GameData},function(t){c=t.SDK}],execute:function(){var p;n._RF.push({},"f7f05vpYoVLfpHVg+bpoZUs","ShareButton",void 0);var h=a.ccclass;a.property,t("ShareButton",h("ShareButton")(p=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.start=function(){var t=this;this.node.parent.active=!1,this.node.on(r.EventType.TOUCH_END,(function(){var e=o("Canvas/SharePage/WinStringEdit").getComponent(i).textLabel.string,n=o("Canvas/SharePage/MessageEdit").getComponent(i).textLabel.string;c.ins.call("shareAppMessage",{title:"邀请您查看寄语",query:"winString="+e+"&message="+n+"&hard="+u.ins.sharehard}),t.node.parent.active=!1}))},a.update=function(t){},n}(s))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/StageTable.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b8f3d/XUgFJ+4jMi+6eiZ2B","StageTable",void 0);var i=e("StageGenType",{AUTO:"AUTO",READTABLE:"READTABLE"}),n=e("OtherWordDict",["🍎","🍷","💎","🍀","🍐","🌻","🍉","🍇","🍋","🍭","🔥","🌸","🌟"]).length;e("StageTable",[{info:""},{id:1,generateType:i.READTABLE,winString:"词里行间",table:[[7,0,100],[7,240,20],[4,160,60],[5,80,20],[7,0,100],[6,80,180],[6,-80,20],[5,160,260],[5,80,180],[4,-160,-60],[4,-80,20],[2,0,100],[3,80,20],[1,-80,180],[0,0,100],[4,0,100],[4,-80,20],[4,80,180]],minScore:23},{id:2,generateType:i.READTABLE,winString:"床前明月光",table:[[0,150,100],[4,150,100],[5,200,200],[5,200,100],[6,200,0],[6,200,-100],[6,200,-200],[7,100,200],[7,100,100],[7,100,-100],[n+4,0,0],[1,0,200],[3,-100,-200],[2,-100,100]],minScore:19},{id:3,generateType:i.AUTO,hard:4,minScore:280}]),e("LyricDict",[["犹怜草木青","已识乾坤大，犹怜草木青。","马一浮","《旷怡亭口占》"],["一酌千忧散","一酌千忧散，三杯万事空。","贾至","《对酒曲二首》"],["只道梅花发","只道梅花发，那知柳亦新。","杜甫","《柳边》"],["浮云一别后","浮云一别后，流水十年间。","韦应物","《淮上喜会梁川故人》"],["不知天在水","醉后不知天在水，满船清梦压星河。","唐珙","《题龙阳县青草湖》"],["明夜扁舟去","明夜扁舟去，和月载离愁。","辛弃疾","《水调歌头·落日古城角》"],["风月替人愁","我自只如常日醉，满川风月替人愁。","黄庭坚","《夜发分宁寄杜涧叟》"],["雨声凉到梦","一夜雨声凉到梦，万荷叶上送秋来。","陈文述","《夏日杂诗》"],["歌罢满帘风","榴花不似舞裙红。无人知此意，歌罢满帘风。","陈与义","《临江仙·高咏楚词酬午日》"],["青山同云雨","青山一道同云雨，明月何曾是两乡。","王昌龄","《送柴侍御》"],["今夜思千里","故乡今夜思千里，霜鬓明朝又一年。","高适","《除夜作》"],["江火似流萤","山花如绣颊，江火似流萤。","李白","《夜下征虏亭》"],["风雨下西楼","日暮酒醒人已远，满天风雨下西楼。","许浑","《谢亭送别》"],["月照一天雪","吹灯窗更明，月照一天雪。","袁枚","《十二月十五夜》"],["闲处遇平生","钟鼎山林都是梦，人间宠辱休惊。只消闲处遇平生。","辛弃疾","《临江仙》"],["霜寒十四州","满堂花醉三千客，一剑霜寒十四州。","贯休","《献钱尚父》"],["万里未归人","一年将尽夜，万里未归人。","戴叔伦","《除夜宿石头驿》"],["篱落看秋风","多少天涯未归客，尽借篱落看秋风。","唐寅","《菊花》"],["飞花轻似梦","自在飞花轻似梦,无边丝雨细如愁。","秦观","《浣溪沙·漠漠轻寒上小楼》"],["无声春堕泪","落絮无声春堕泪，行云有影月含羞。","吴文英","《浣溪沙·门隔花深梦旧游》"],["香动月黄昏","疏影横斜水清浅,暗香浮动月黄昏。","林逋","《山园小梅二首》"],["不关风与月","人生自是有情痴，此恨不关风与月。","欧阳修","《玉楼春》"],["行到水穷处","行到水穷处，坐看云起时。","王维","《终南别业》"],["长逝入君怀","愿为西南风，长逝入君怀。","曹植","《七哀诗·明月照高楼》"],["落叶满长安","秋风生渭水，落叶满长安。","贾岛","《忆江上吴处士》"],["只道是寻常","被酒莫惊春睡重，赌书消得泼茶香，当时只道是寻常。","纳兰容若","《浣溪沙》"],["桃花扇底风","舞低杨柳楼心月，歌尽桃花扇底风。","晏几道","《鹧鸪天》"]]);t._RF.pop()}}}));

System.register("chunks:///_virtual/StartScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadDataFromLocal.ts","./GameData.ts","./GuideSystem.ts","./IScene.ts","./MessageManager.ts","./SceneManager.ts","./DataType.ts","./GuideConfig.ts","./MainScene.ts","./SDK.ts","./InitStageInfo.ts"],(function(e){var n,a,t,i,r,s,c,o,g,l,u,m,h,S,p,y,f,v,d,w,M;return{setters:[function(e){n=e.inheritsLoose,a=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){i=e.cclegacy,r=e._decorator,s=e.randomRangeInt,c=e.find},function(e){o=e.getDataFromRamOrDisk},function(e){g=e.GameData},function(e){l=e.GuideSystem},function(e){u=e.IScene},function(e){m=e.MessageManager},function(e){h=e.SceneManager},function(e){S=e.DataType,p=e.MessageType},function(e){y=e.GuideStepConfig},function(e){f=e.MainScene},function(e){v=e.SDK},function(e){d=e.setStageInfoFromShare,w=e.setGameMaxStageId,M=e.setStageInfoByMaxId}],execute:function(){var k;i._RF.push({},"a6dfb4giDtEv7pBoIUC+d0j","StartScene",void 0);var I=r.ccclass,L=(r.property,[["5I6u/+WvRIuau6qvWad0rQ==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5Lkl4SBMLicNtYGOQ8FMXpIoFkrMptjljFZszf2aVGYGFr8UZQXTXicEUvc/0"],["JxHY5qFmQPKGc9BgJ6ar3w==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5Lkk6VyM4ZQ10uZzphyfSwvhgWAdBnnvn14yTtyGrjbib9F24eLlXnPdUC/0"],["yGQiwI3OQOW52zlkZKTWrQ==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5LkmL81xFmoH9PYkFGz4aW1p6zQ6o76VicOQtm79y18GRthkQNa7eTrqicM/0"],["Fo4PkVs1SbOspX8tCvu3dg==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5LklhkxibcnxicJljklxU1gwCDNzc8eapaibyb3h9GFfPiaZWM6uib7Wic2AdIL/0"],["ZGnylSxkSJOYr/DZkf4/xQ==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5LknA4mtmOwxq2iamI2ibpOZuRKLUBr4cMicNVle6JhiabD8ib4t8Mz3FibAwap/0"],["+qBuTXOySJ2RpaPtl3E8rQ==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5LknDZmO8eEL1Z7oHklv125Lk9kvRBkycsp8ZkEiczZia9iacevpNJOYaiaSR/0"],["QWXXu8XFRKOrvhwrPRdJ5w==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5LklSChNGF4b90Cr08JnJFIVy0icVoJId2y8oCwOG9kv7F4aGNkppVansM/0"],["N5oajaXuQSitYAWUVWVE2A==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5LkniaialNIsA47ogFXnJD9Ix0kDXX71cW98xBqO3DhEhpJP9LUQHRJWKcic/0"],["I+Te2Z7KTZGTqx2vu/xkHA==","https://mmocgame.qpic.cn/wechatgame/4yv66VJ5Lkl5uU6ZbtaNDF5j6AGz8EwmKpiaqUKpHBic7QG1Y1mx9RUQKJT5wh2LYx/0"]]),x=["只有5%的人能打通第3关，你敢来试试吗？","不要玩没营养的游戏了，试试这款能提高文学修养的游戏吧!","隔壁小孩三岁能背100首诗，原因竟是玩了这款益智游戏......","如果你也对古典诗词感兴趣，就来试试这款游戏吧！"];e("StartScene",I("StartScene")(k=function(e){n(r,e);var i=r.prototype;function r(){return e.call(this,"Start")||this}return i.init=function(){var e=v.ins.call("getLaunchOptionsSync");e&&(g.ins[S.ShareMessageQuery]=e.query,console.log("通过冷启动获取到分享内容")),v.ins.call("onShow",r._onShow);var n=g.ins[S.ShareMessageQuery];n&&n.hard?d():(w(),M());var a=g.ins[S.UserInfo].maxScore,t=g.ins[S.UserInfo].maxScoreTime;console.log("从持久层中拿到最大分数"+a),a||(a=-1),g.ins[S.MaxScore]=a,g.ins[S.MaxScoreTime]=t;var i=g.ins[S.UserInfo][S.ABILITY_NUM];console.log("从持久层中拿到文采"+i),i||(i=0),g.ins[S.ABILITY_NUM]=i,v.ins.call("showShareMenu",{withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),v.ins.call("onShareTimeline",r.onShareTimeline),v.ins.call("onShareAppMessage",r.onShareTimeline)},r._onShow=function(e){g.ins[S.ShareMessageQuery]=e.query,console.log("通过热启动获取到分享内容"),e.query&&e.query.hard&&(d(),h.ins.setNewScene(new f))},i.update=function(e){h.ins.setNewScene(new f)},i.release=function(){},i.preload=function(){var e=a(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.ins.getUserInfo();case 2:return g.ins[S.UserInfo]=e.sent,e.next=5,v.ins.getDataVersion();case 5:g.ins[S.DataVersion]=e.sent,console.log("获得数据版本号为"+g.ins[S.DataVersion]),l.ins.setGuideStepsConfig(y);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i.loadStageLyrics=function(){var e=a(t().mark((function e(){var n,a,i,r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="cloud://wenzisanxiao-7gj8dlv104b6594c.7765-wenzisanxiao-7gj8dlv104b6594c-1314042521/shilihangjian/stageLyrics.data",e.next=3,o(S.StageLyricsVersion);case 3:if(a=e.sent,console.log("获得lyricdata版本号为"+a),!a||a!=g.ins[S.DataVersion]){e.next=8;break}return e.next=8,o(S.StageLyrics);case 8:if(g.ins[S.StageLyrics]){e.next=16;break}return e.next=11,v.ins.readFileFromCloud(n);case 11:i=e.sent,r=i.split("##"),s=[],r.forEach((function(e){e.length>10&&s.push(e.trim().split("#"))})),s.length>5&&(g.ins[S.StageLyrics]=s,v.ins.setStorage({key:S.StageLyrics,data:s}),console.log("获得云端StageLyrics数据，数据长度为"+s.length+"写入Gamedata及localstorage中"),console.log("更新stagelyricdata版本号为"+g.ins[S.DataVersion]),v.ins.setStorage({key:S.StageLyricsVersion,data:g.ins[S.DataVersion]}),g.ins[S.StageLyricsVersion]=g.ins[S.DataVersion]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r.onShareTimeline=function(){var e=s(0,L.length);if(c("Canvas/ShareFuncHintPage").active=!1,g.ins[S.InviteShare])return{title:"我在《词里行间》以"+g.ins[S.MaxScore]+"分通关，顺利进入了全国排名挑战，一起来看看吧！",imageUrlId:L[e][0],imageUrl:L[e][1],imagePreviewUrlId:L[e][0],imagePreviewUrl:L[e][1]};var n=g.ins[S.MaxScore],a=x[s(0,x.length)];if(n&&n>60){var t=1e6;a="我在<词里行间>第3关拿到了"+n+"分，超过了"+Math.min(Math.ceil(100*(.5+.5*Math.sin(Math.PI/2*Math.min(n/650,1)))*t),1e8)/t+"%的玩家，你能超过我吗？"}return m.ins.sendMessage(p.ONSHARE),{title:a,imageUrlId:L[e][0],imageUrl:L[e][1],imagePreviewUrlId:L[e][0],imagePreviewUrl:L[e][1]}},r}(u))||k);i._RF.pop()}}}));

System.register("chunks:///_virtual/TestButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,i,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,c=t.Node,u=t.Component}],execute:function(){var a,l,p,f,y;i._RF.push({},"06523+Tcu1HeK3alEGKGTvZ","TestButton",void 0);var T=s.ccclass,d=s.property;t("TestButton",(a=T("TestButton"),l=d({type:c}),a((y=e((f=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,o(e,"TestNode",y,r(e)),e}return n(e,t),e.prototype.start=function(){this.node.on(c.EventType.TOUCH_END,(function(){}))},e}(u)).prototype,"TestNode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/UndoButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SceneManager.ts","./HintPage.ts"],(function(o){var n,t,e,i,r,c,s,a,l,u,h,d;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,i=o.Node,r=o.Vec3,c=o.Animation,s=o.Sprite,a=o.color,l=o.Label,u=o.Component},function(o){h=o.SceneManager},function(o){d=o.HintPage}],execute:function(){var f;t._RF.push({},"4c43bYgxhBJ2p8/If5hoXdi","UndoButton",void 0);var p=e.ccclass,g=(e.property,"<color=#C73E3A><bold>撤回</bold></color><color=#0>：撤回上次操作，并将卡片返回原位置\n<size=30>该功能每局只能使用<color=#C73E3A> 1 </color>次</size></color>");o("UndoButton",p("UndoButton")(f=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=o.call.apply(o,[this].concat(e))||this).buttonLabel=void 0,n._isUse=!1,n}n(t,o);var e=t.prototype;return e.start=function(){var o=this;this.node.on(i.EventType.TOUCH_END,(function(){console.log("玩家按下撤回按键");var n=h.ins.curScene;n.audioEffectPlayer.playOneShotInClips(5),o._isUse?n.hintPage.showOnlyConfirm("撤回",g+"\n\n"+d.FuncTimeUseOverRichStr):n.wordList.isRemoveBefore?n.hintPage.showOnlyConfirm("撤回",g+"\n\n<color=#C73E3A>场上找不到上次操作的卡片\n卡片可能已被消除</color>\n\n<color=#0><bold>当前无法使用撤回功能</color></bold>"):o.showHintPageDone()}))},e.showHintPageDone=function(){h.ins.curScene.hintPage.show(this.undo,"撤回",g,"点击使用","取消",this)},e.undo=function(){var o=h.ins.curScene;o.hintPage.node.active=!1,o.lastwordBackToBoard(),o.audioEffectPlayer.playOneShotInClips(1);var n=o.starChangeAnimEffectPool.get();n.setPosition(o.wordList.lastPos),n.setScale(r.ONE),o.canvasNode.addChild(n);var t=n.getComponent(c);t.once(c.EventType.FINISHED,(function(){console.log("星星变化特效消失特效播放完毕"),n.removeFromParent(),o.starChangeAnimEffectPool.put(n)}),this),t.play(),this._isUse=!0,this.getComponent(s).color=a(192,192,192),this.buttonLabel.color=a(192,192,192)},e.init=function(){this._isUse=!1,this.getComponent(s).color=a(255,122,0),this.buttonLabel=this.node.getChildByPath("Label").getComponent(l),this.buttonLabel.color=a(255,122,0)},t}(u))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/Word.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MyUtil.ts","./GameData.ts","./SceneManager.ts","./DataType.ts"],(function(o){var e,t,n,i,s,r,d,h,a,c,u,l,p,T,v;return{setters:[function(o){e=o.inheritsLoose,t=o.createClass},function(o){n=o.cclegacy,i=o._decorator,s=o.Tween,r=o.Vec3,d=o.Label,h=o.Sprite,a=o.Color,c=o.Node,u=o.Component},function(o){l=o.MyUtil},function(o){p=o.GameData},function(o){T=o.SceneManager},function(o){v=o.DataType}],execute:function(){var f;n._RF.push({},"21d178o4IdMpLvobbm1Moxz","Word",void 0);var W=i.ccclass;i.property,o("Word",W("Word")(f=function(o){function n(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))||this).wordIndex=void 0,e.wordText=void 0,e.upperWords=void 0,e.underWords=void 0,e.wordLabel=void 0,e.colorMaskNode=void 0,e.touchMaskNode=void 0,e}e(n,o);var i=n.prototype;return i.init=function(o,e,t,n){s.stopAllByTarget(this.node),this.node.setScale(r.ONE),this.wordLabel=this.node.getChildByName("WordText").getComponent(d),this.colorMaskNode=this.node.getChildByName("ColorMask"),this.touchMaskNode=this.node.getChildByName("TouchMask"),this.node.getComponent(h).color=a.WHITE,this.colorMaskNode.active=!1,this.touchMaskNode.active=!1,this.node.setPosition(new r(t,n)),this.upperWords&&this.upperWords.clear(),this.underWords&&this.underWords.clear(),this.changeWordIndexAndText(o,e),this.node.on(c.EventType.TOUCH_END,this.onTouch,this),this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},i.onTouchStart=function(){this.node.setScale(1.2,1.2),p.ins[v.WordMaxSiblingIndex]+=1,this.node.parent.insertChild(this.node,p.ins[v.WordMaxSiblingIndex])},i.onTouchEnd=function(){this.node.setScale(r.ONE)},i.changeWordIndexAndText=function(o,e){if(this.wordIndex=o,this.wordText=e,this.wordLabel.string=""+e,o>=T.ins.curScene.winWordsLength){var t=new r(0,6);this.wordLabel.node.setPosition(t),this.wordLabel.fontSize=90}else{var n=new r(0,0);this.wordLabel.node.setPosition(n),this.wordLabel.fontSize=80}},i.onTouch=function(){var o=this,e=T.ins.curScene;console.log("word被点击"+this.wordIndex+" "+this.wordText),e.audioEffectPlayer.playOneShotInClips(2),l.removeObjFromArray(e.wordsInBoard,this),this.touchMaskNode.active=!0,e.wordList.AddWord(this),this.underWords&&(this.underWords.forEach((function(e){e.removeUpperWord(o)})),this.underWords.clear()),e.setRemainCount()},i.isOverLayOtherWord=function(o){var e=this.y+95,t=this.x+95,n=this.y-95,i=this.x-95;return!(o.x<i||o.x>t)&&!(o.y<n||o.y>e)},i.removeUpperWord=function(o){this.upperWords.delete(o),0==this.upperWords.size&&(this.colorMaskNode.active=!1,this.touchMaskNode.active=!1)},i.addUpperWord=function(o){this.upperWords||(this.upperWords=new Set),this.upperWords.add(o),this.colorMaskNode.active=!0,this.touchMaskNode.active=!0},i.addUnderWord=function(o){this.underWords||(this.underWords=new Set),this.underWords.add(o),o.addUpperWord(this)},i.clear=function(){this.node.on(c.EventType.TOUCH_END,this.onTouch,this),this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},i.release=function(){this.upperWords=null,this.underWords=null,this.colorMaskNode=null,this.touchMaskNode=null,this.wordLabel=null},t(n,[{key:"x",get:function(){return this.node.getPosition().x}},{key:"y",get:function(){return this.node.getPosition().y}}]),n}(u))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/WordList.ts",["cc","./MyUtil.ts","./SceneManager.ts","./InitStageInfo.ts"],(function(e){var t,n,o,r,s,i,d,a,h,l;return{setters:[function(e){t=e.cclegacy,n=e.find,o=e.Vec3,r=e.Animation,s=e.tween,i=e.ParticleSystem2D,d=e.Tween},function(e){a=e.MyUtil},function(e){h=e.SceneManager},function(e){l=e.isLastStage}],execute:function(){t._RF.push({},"8fcf6yXzE9Iva1rUpGe+Cpl","WordList",void 0);var c=e("WordList",function(){function e(){this.wordsInList=[],this.isRemoveBefore=void 0,this.lastPos=void 0,this.isLastStar=void 0,this._isSendStar=!1}var t=e.prototype;return t.init=function(){e._WordInListY=n("Canvas/WordListBG").position.y,e._exWordTimes=1,this.isRemoveBefore=!0,this.isLastStar=!1,this._isSendStar=!1},e.getWordPosByIndex=function(e){var t=100*-this._maxWordLength/2+50;return new o(t+100*e,this._WordInListY)},t.AddWord=function(t){var n=this;this.isLastStar=!1,this.lastPos=t.node.position.clone();var c=h.ins.curScene;if(a.removeObjFromArray(c.wordsInBoard,t),t.wordIndex==c.wordDict.length-1){c.audioEffectPlayer.playOneShotInClips(1),this.isLastStar=!0;var g=this.wordsInList[this.wordsInList.length-1],f=[c.winWordsLength,c.wordDict[c.winWordsLength]];g&&(f=[g.wordIndex,g.wordText]),t.changeWordIndexAndText(f[0],f[1]);var I=c.starChangeAnimEffectPool.get();I.setPosition(o.ZERO),I.setScale(o.ONE),t.node.addChild(I);var w=I.getComponent(r);w.once(r.EventType.FINISHED,(function(){console.log("星星变化特效消失特效播放完毕"),I.removeFromParent(),c.starChangeAnimEffectPool.put(I)}),this),w.play()}this.wordsInList.push(t);var u=this.wordsInList.length;s(t.node).to(.2,{position:e.getWordPosByIndex(u-1)},{easing:"sineInOut"}).start();var m=new Set,S=[];this.wordsInList.forEach((function(e){t.wordIndex==e.wordIndex&&S.push(e)})),3==S.length&&S.forEach((function(e){m.add(e)}));for(var p=[],v=new Set,L=0;L<c.winWordsLength;L++)v.add(L);for(var y=0;y<this.wordsInList.length;y++){var W=this.wordsInList[this.wordsInList.length-1-y];v.has(W.wordIndex)&&(p.push(W),v.delete(W.wordIndex))}var x=1;if(p.length==c.winWordsLength&&(p.forEach((function(e){m.add(e)})),e._exWordTimes+=1,x=e._exWordTimes,c.audioEffectPlayer.playOneShotInClips(8)),m.size>0){m.forEach((function(e){a.removeObjFromArray(n.wordsInList,e)})),c.audioEffectPlayer.playOneShotInClips(0),m.forEach((function(e){var t=c.dispearEffectNodePool.get();e.node.addChild(t),t.setPosition(new o(0,0)),t.getComponent(r).play();var s=e.getComponent(r);s.once(r.EventType.FINISHED,(function(){console.log("Word 渐隐动画&消失特效播放完毕"),t.removeFromParent(),c.dispearEffectNodePool.put(t),e.node.removeFromParent(),c.wordNodePool.put(e.node),e.clear()}),n),s.play()}));var E=c.scoreEffectNodePool.get(),P=E.getComponent(i);P.resetSystem(),c.canvasNode.addChild(E);var B=this.wordsInList.length+1;for(var _ in E.setPosition(e.getWordPosByIndex(B)),s(E).to(1,{position:c.scoreLabel.node.position}).call((function(){P.stopSystem(),E.removeFromParent(),c.scoreEffectNodePool.put(E)})).start(),c.addScore(m.size*x,x),this.wordsInList){var C=this.wordsInList[_];d.stopAllByTarget(C.node),s(C.node).to(.2,{position:e.getWordPosByIndex(parseInt(_))},{easing:"sineInOut"}).start()}l()&&c.wordsInBoard.length+this.wordsInList.length!=0&&c.wordsInBoard.length<=30+c.bigSendBeforeNum&&(this._isSendStar&&(this.isRemoveBefore?(c.playScoreTimeAnim("\n\n\n连续消除!\n\n奖励2个🌟"),c.genStar(),c.genStar()):(c.playScoreTimeAnim("\n\n\n\n\n奖励1个🌟"),c.genStar())),c.wordsInBoard.length+this.wordsInList.length==2&&(c.playScoreTimeAnim("额外1个🌟"),c.genStar()),c.wordsInBoard.length+this.wordsInList.length==1&&(c.playScoreTimeAnim("额外2个🌟"),c.genStar(),c.genStar())),this.isRemoveBefore=!0}else this.isRemoveBefore=!1;!this._isSendStar&&c.wordsInBoard.length<=30+c.bigSendBeforeNum&&l()&&(c.showLessCountHint(),this._isSendStar=!0),h.ins.curScene.upDateExTitleColor(this.wordsInList),l()&&c.wordsInBoard.length+this.wordsInList.length==0&&(c.addScore(50,0),c.playScoreTimeAnim("\n\n\n完美消除\n\n奖励50分")),0!=c.wordsInBoard.length&&this.wordsInList.length!=e._maxWordLength||c.gameEnd()},t.howLongWordListEqualWinWors=function(){var e=this.wordsInList;if(0==e.length)return 0;if(0==e[e.length-1].wordIndex)return 1;for(var t=0;t<e.length-1;t++){if(1!=e[e.length-1-t].wordIndex-e[e.length-1-t-1].wordIndex)return 0!=e[e.length-1-t].wordIndex?0:t+1}return 0!=e[0].wordIndex?0:e.length},t.release=function(){this.wordsInList.forEach((function(e){e.release()})),this.wordsInList=null},e}());c._exWordTimes=1,c._maxWordLength=7,c._WordInListY=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/WorldRankButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadDataFromLocal.ts","./GameData.ts","./DataType.ts","./SDK.ts","./RankButtonBase.ts"],(function(a){var t,e,n,r,o,i,s,c,u,l,h,k,p,f,m;return{setters:[function(a){t=a.applyDecoratedDescriptor,e=a.inheritsLoose,n=a.initializerDefineProperty,r=a.assertThisInitialized,o=a.asyncToGenerator,i=a.regeneratorRuntime},function(a){s=a.cclegacy,c=a._decorator,u=a.Node,l=a.Label},function(a){h=a.getDataFromRamOrDisk},function(a){k=a.GameData},function(a){p=a.DataType},function(a){f=a.SDK},function(a){m=a.RankButtonBase}],execute:function(){var g,D,d,_,R,v,x;s._RF.push({},"64f8c/tS7tN6qT+Opvb8eAC","WorldRankButton",void 0);var y=c.ccclass,S=c.property;a("WorldRankButton",(g=y("WorldRankButton"),D=S({type:u}),d=S({type:u}),g((v=t((R=function(a){function t(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t=a.call.apply(a,[this].concat(o))||this,n(t,"PageButtons",v,r(t)),n(t,"PageLabel",x,r(t)),t._curPageNum=1,t._rankData=void 0,t._selfRank=-1,t}e(t,a);var s=t.prototype;return s.select=function(){a.prototype.select.call(this),console.log("点击世界排行按键")},s.unselect=function(){a.prototype.unselect.call(this),this.PageButtons.active=!1},s.showWorldRankPage=function(){var a=o(i().mark((function a(t){var e,n,r,o,s,c,u;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.handleWorldRankData(t);case 2:e=a.sent,n=this._selfRank>0?this._selfRank:"-",r=k.ins[p.MaxScore],o=r>=0?r:"-",s=k.ins[p.MaxScoreTime],c=s||0,u=Math.ceil(this._rankData.length/50),this.PageLabel.getComponent(l).string="第"+t+"/"+u+"页",f.ins.postMessageToOpenContext({type:"engine",event:"showWorldRank",userInfo:k.ins[p.UserInfo],rankData:e,selfRank:n,selfRankScore:o,selfRankScoreTime:c});case 11:case"end":return a.stop()}}),a,this)})));return function(t){return a.apply(this,arguments)}}(),s.nextPage=function(){if(this._rankData){var a=Math.ceil(this._rankData.length/50);this._curPageNum>=a||(this._curPageNum+=1,this.showWorldRankPage(this._curPageNum))}},s.prevPage=function(){this._rankData&&(this._curPageNum<=1||(this._curPageNum-=1,this.showWorldRankPage(this._curPageNum)))},s.getRankDataFromCloud=function(){var a=o(i().mark((function a(){var t;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(p.WorldRankData,1200);case 2:if(!(t=a.sent)){a.next=6;break}return this._rankData=t.data,a.abrupt("return");case 6:return k.ins[p.WorldRankData]={},k.ins[p.WorldRankData].saveTime=Date.now(),a.next=10,f.ins.getWorldRankDataFromServer();case 10:this._rankData=a.sent,this._rankData&&(console.log("从云端获取到世界排行榜数据，写入内存及本地"),k.ins[p.WorldRankData].data=this._rankData,f.ins.setStorage({key:p.WorldRankData,data:k.ins[p.WorldRankData]}));case 12:case"end":return a.stop()}}),a,this)})));return function(){return a.apply(this,arguments)}}(),s.handleWorldRankData=function(){var a=o(i().mark((function a(t){var e,n,r,o,s,c,u,l=this;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getRankDataFromCloud();case 2:if(this._rankData&&0!=this._rankData.length){a.next=4;break}return a.abrupt("return",[]);case 4:if(e=!1,n=null,this._rankData.forEach((function(a){a.openid==k.ins[p.UserInfo].openid&&(l._selfRank=a.rank,n=a)})),r=k.ins[p.MaxScore],o=k.ins[p.MaxScoreTime],n&&n.maxScore!=r&&(console.log("在排行榜中找到自己,但分数发生了改变"),n.maxScore=r,n.maxScoreTime=o,e=!0),s=k.ins[p.UserInfo],c=this._rankData[this._rankData.length-1],!n&&r>c.maxScore&&s.avatarUrl&&(console.log("在排行榜中没自己,但自己的分数已经高于榜单中最低分"),c.avatarUrl=s.avatarUrl,c.maxScore=r,c.maxScoreTime=o,c.nickName=s.nickName,c.openid=s.openid,c.provName=s.provName,n=c,e=!0),e){for(this._rankData.sort((function(a,t){var e=t.maxScore-a.maxScore;return 0==e&&(e=a.maxScoreTime-t.maxScoreTime),e})),u=0;u<this._rankData.length;u++)this._rankData[u].rank=u+1;this._selfRank=n.rank}return a.abrupt("return",this._rankData.slice(50*(t-1),50*t));case 15:case"end":return a.stop()}}),a,this)})));return function(t){return a.apply(this,arguments)}}(),t}(m)).prototype,"PageButtons",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(R.prototype,"PageLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=R))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/WorldRankList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,n,e,o;return{setters:[function(r){t=r.inheritsLoose},function(r){n=r.cclegacy,e=r._decorator,o=r.Component}],execute:function(){var i;n._RF.push({},"e73e2Zzrr1G8KvgLqa7iFXq","WorldRankList",void 0);var s=e.ccclass;e.property,r("WorldRankList",s("WorldRankList")(i=function(r){function n(){return r.apply(this,arguments)||this}return t(n,r),n}(o))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/WXSDKAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SDKAdapterBase.ts"],(function(t){var e,n,o,r,i;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){i=t.SDKAdapterBase}],execute:function(){r._RF.push({},"9e7achWw79ANaA8HC1Dq5Mf","WXSDKAdapter",void 0);t("WXSDKAdapter",function(t){function r(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).WXSDK=window.wx,e._coll=void 0,e._db=void 0,e}e(r,t);var i=r.prototype;return i.init=function(){this.WXSDK.cloud.init();var t=this.WXSDK.cloud.database(),e=t.collection("zilihangjian");this._coll=e,this._db=t},i.call=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return this[t]?this[t].apply(this,n):(r=this.WXSDK)[t].apply(r,n);var r},i.getObj=function(t){return this[t]?this[t]:this.WXSDK[t]},i.setUserCloudStorage=function(t){this.WXSDK.setUserCloudStorage(t)},i.removeUserCloudStorage=function(t){this.WXSDK.removeUserCloudStorage(t)},i.getUserCloudStorageKeys=function(t){this.WXSDK.getUserCloudStorageKeys(t)},i.getUserCloudStorage=function(t){this.WXSDK.getUserCloudStorage(t)},i.postMessageToOpenContext=function(t){this.WXSDK.getOpenDataContext().postMessage(t)},i.setStorage=function(t){this.WXSDK.setStorage(t)},i.getStorageSync=function(t){var e=this.WXSDK.getStorageSync(t);return""==e?null:e},i.getStorage=function(){var t=n(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.WXSDK.getStorage({key:e});case 3:return t.abrupt("return",t.sent.data);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",null);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),i.loadSubPackage=function(t,e){var n=this;return void 0===e&&(e=null),new Promise((function(o,r){n.WXSDK.loadSubpackage({name:t,fail:r,success:function(t){e&&e(t),o(t)}}).onProgressUpdate((function(t){console.log("下载进度",t.progress),console.log("已经下载的数据长度",t.totalBytesWritten),console.log("预期需要下载的数据总长度",t.totalBytesExpectedToWrite)}))}))},i.readTmpfileFromPath=function(t,e){var n=this;return void 0===e&&(e="utf8"),new Promise((function(o,r){n.WXSDK.getFileSystemManager().readFile({filePath:t,encoding:e,position:0,success:function(t){o(t.data)},fail:function(t){r(t)}})}))},i.getDownLoadTempFilePath=function(t){var e=this;return new Promise((function(n,o){e.WXSDK.cloud.downloadFile({fileID:t,success:function(t){n(t.tempFilePath)},fail:function(t){o(t)}})}))},r}(i));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});